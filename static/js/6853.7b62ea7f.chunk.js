"use strict";(self.webpackChunkdata_in_design=self.webpackChunkdata_in_design||[]).push([[6853],{66853:(e,a,i)=>{i.r(a),i.d(a,{classBreaks:()=>I,heatmapStatistics:()=>y,histogram:()=>x,summaryStatistics:()=>p,uniqueValues:()=>z});var n=i(8),t=(i(35238),i(50076),i(30726)),l=i(76931),o=i(13312),s=i(76279),r=i(80963),u=(i(32808),i(4414)),d=i(72003),m=i(98976),f=i(13904);let c=null;async function v(e,a){if(!a)return[];const{field:i,field2:t,field3:l,fieldDelimiter:s}=e,r=e.valueExpression,u=e.normalizationType,f=e.normalizationField,v=e.normalizationTotal,p=[],z=e.viewInfoParams;let I=null,x=null;if(r){if(!c){const{arcadeUtils:e}=await(0,m.lw)();c=e}I=c.createFunction(r),x=z&&c.getViewInfo({viewingMode:z.viewingMode,scale:z.scale,spatialReference:new o.A(z.spatialReference)})}const y=e.fieldInfos,h=a[0]&&"declaredClass"in a[0]&&"esri.Graphic"===a[0].declaredClass||!y?null:{fields:y};return a.forEach((e=>{const a=e.attributes;let o;if(r){const a=h?(0,n.A)((0,n.A)({},e),{},{layer:h}):e,i=c.createExecContext(a,x);o=c.executeFunction(I,i)}else a&&(o=a[i],t&&(o="".concat((0,d.gJ)(o)).concat(s).concat((0,d.gJ)(a[t])),l&&(o="".concat(o).concat(s).concat((0,d.gJ)(a[l])))));if(u&&"number"==typeof o&&isFinite(o)){const e=a&&parseFloat(a[f]);o=(0,d.zS)(o,u,e,v)}p.push(o)})),p}async function p(e){const{attribute:a,features:i}=e,{normalizationType:n,normalizationField:t,minValue:l,maxValue:o,fieldType:s}=a,r=await v({field:a.field,valueExpression:a.valueExpression,normalizationType:n,normalizationField:t,normalizationTotal:a.normalizationTotal,viewInfoParams:a.viewInfoParams,fieldInfos:a.fieldInfos},i),u=(0,d.Vb)({normalizationType:n,normalizationField:t,minValue:l,maxValue:o}),m={value:.5,fieldType:s},f="esriFieldTypeString"===s?(0,d.z9)({values:r,supportsNullCount:u,percentileParams:m}):(0,d.G_)({values:r,minValue:l,maxValue:o,useSampleStdDev:!n,supportsNullCount:u,percentileParams:m});return(0,d.oZ)(f,"esriFieldTypeDate"===s)}async function z(e){const{attribute:a,features:i}=e,n=await v({field:a.field,field2:a.field2,field3:a.field3,fieldDelimiter:a.fieldDelimiter,valueExpression:a.valueExpression,viewInfoParams:a.viewInfoParams,fieldInfos:a.fieldInfos},i),t=(0,d.b3)(n);return(0,d.lv)(t,a.domains,a.returnAllCodedValues,a.fieldDelimiter)}async function I(e){const{attribute:a,features:i}=e,{field:n,normalizationType:t,normalizationField:l,normalizationTotal:o,classificationMethod:s}=a,r=await v({field:n,valueExpression:a.valueExpression,normalizationType:t,normalizationField:l,normalizationTotal:o,viewInfoParams:a.viewInfoParams,fieldInfos:a.fieldInfos},i),u=(0,d.Rw)(r,{field:n,normalizationType:t,normalizationField:l,normalizationTotal:o,classificationMethod:s,standardDeviationInterval:a.standardDeviationInterval,numClasses:a.numClasses,minValue:a.minValue,maxValue:a.maxValue});return(0,d.jM)(u,s)}async function x(e){const{attribute:a,features:i}=e,{field:n,normalizationType:t,normalizationField:l,normalizationTotal:o,classificationMethod:s}=a,r=await v({field:n,valueExpression:a.valueExpression,normalizationType:t,normalizationField:l,normalizationTotal:o,viewInfoParams:a.viewInfoParams,fieldInfos:a.fieldInfos},i);return(0,d.$y)(r,{field:n,normalizationType:t,normalizationField:l,normalizationTotal:o,classificationMethod:s,standardDeviationInterval:a.standardDeviationInterval,numBins:a.numBins,minValue:a.minValue,maxValue:a.maxValue})}async function y(e){const{attribute:a,features:i}=e,{field:n,radius:o,fieldOffset:d,transform:m,spatialReference:c,size:v}=a,p=function(e,a,i,n){const l=(0,r.d9)(i)?(0,r.Vp)(i):null,o=l?Math.round((l.valid[1]-l.valid[0])/a.scale[0]):null;return e.map((e=>{const i=new f.A((0,t.oA)(e.geometry));return(0,s.Gy)(a,i,i,i.hasZ,i.hasM),e.geometry=l?function(e,a,i){return e.x<0?e.x+=a:e.x>i&&(e.x-=a),e}(i,o,n[0]):i,e}))}(i,m,c,v),{count:z,min:I,max:x,mean:y,stdDev:h}=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:18,i=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,t=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0;const s=new Float64Array(t*o);a=Math.round((0,l.Lz)(a));let r=Number.POSITIVE_INFINITY,d=Number.NEGATIVE_INFINITY,m=0,f=0,c=0,v=0;const p=(0,u.YW)(n,i);for(const{geometry:l,attributes:I}of e){const{x:e,y:i}=l,n=Math.max(0,e-a),z=Math.max(0,i-a),x=Math.min(o,i+a),y=Math.min(t,e+a),h=+p(I);for(let l=z;l<x;l++)for(let o=n;o<y;o++){const n=l*t+o,p=(0,u.hv)(o-e,l-i,a),z=s[n];m=s[n]+=p*h;const I=m-z;f+=I,c+=I*I,m<r&&(r=m),m>d&&(d=m),v++}}if(!v)return{mean:0,stddev:0,min:0,max:0,mid:0,count:0};const z=(d-r)/2;return{mean:f/v,stdDev:Math.sqrt((c-f*f/v)/v),min:r,max:d,mid:z,count:v}}(p,o,d,n,v[0],v[1]);return{count:z,min:I,max:x,avg:y,stddev:h}}}}]);
//# sourceMappingURL=6853.7b62ea7f.chunk.js.map