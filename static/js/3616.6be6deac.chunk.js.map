{"version":3,"file":"static/js/3616.6be6deac.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/layers/graphics/data/QueryEngine.js","../node_modules/@arcgis/core/layers/graphics/data/QueryEngineCapabilities.js","../node_modules/@arcgis/core/layers/graphics/contains.js","../node_modules/@arcgis/core/layers/graphics/data/spatialQuerySupport.js","../node_modules/@arcgis/core/geometry/support/intersects.js","../node_modules/@arcgis/core/layers/graphics/data/timeSupport.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{PositionHint as e,indexOf as t}from\"../../../core/arrayUtils.js\";import i from\"../../../core/Error.js\";import{clone as s}from\"../../../core/lang.js\";import{removeMaybe as r,destroyMaybe as a,isNone as n,isSome as o}from\"../../../core/maybe.js\";import{MemCacheStorage as u,MemCache as c}from\"../../../core/MemCache.js\";import{getMetersPerUnitForSR as h}from\"../../../core/unitUtils.js\";import{create as l,set as f,NEGATIVE_INFINITY as m,expandWithAABB as p}from\"../../../geometry/support/aaBoundingBox.js\";import{fromValues as d,create as y}from\"../../../geometry/support/aaBoundingRect.js\";import{getBoundsXY as g}from\"../../../geometry/support/boundsUtils.js\";import{fromJSON as x,isExtent as _,isPolygon as w}from\"../../../geometry/support/jsonUtils.js\";import{normalizeCentralMeridian as S}from\"../../../geometry/support/normalizeUtils.js\";import{equals as F,isValid as R}from\"../../../geometry/support/spatialReferenceUtils.js\";import{convertFromGeometry as Q}from\"../featureConversionUtils.js\";import{getWhereClause as I,validateFields as j,validateWhere as E,validateHaving as b,hasInvalidFieldType as A}from\"./attributeSupport.js\";import{project as T,checkProjectionSupport as k,projectMany as C}from\"./projectionSupport.js\";import{queryCapabilities as B}from\"./QueryEngineCapabilities.js\";import{QueryEngineResult as q,SnappingTypes as v}from\"./QueryEngineResult.js\";import{getSpatialQueryOperator as z,canQueryWithRBush as O,checkSpatialQuerySupport as G}from\"./spatialQuerySupport.js\";import{getTimeExtent as M,getTimeOperator as P}from\"./timeSupport.js\";import{cleanFromGeometryEngine as U,QUERY_ENGINE_EMPTY_RESULT as Z,normalizeQuery as N,getGeometry as D}from\"./utils.js\";import H from\"../../support/FieldsIndex.js\";import{loadArcade as L}from\"../../../support/arcadeOnDemand.js\";import{noBudget as J}from\"../../../views/support/Scheduler.js\";function V(e){return e.every((e=>\"exceedslimit\"!==e.statisticType))}const W=\"feature-store:unsupported-query\";class ${constructor(e,t=null,i,s,r){this.attributes=e,this.geometry=i,this.centroid=s,this.filterFlags=r,this.groupId=-1,this.displayId=t}}const K=new u(2e6);let X=0;class Y{constructor(e){this.capabilities={query:B},this.geometryType=e.geometryType,this.hasM=e.hasM,this.hasZ=e.hasZ,this.objectIdField=e.objectIdField,this.spatialReference=e.spatialReference,this.definitionExpression=e.definitionExpression,this.featureStore=e.featureStore,this.aggregateAdapter=e.aggregateAdapter,this._changeHandle=this.featureStore.events.on(\"changed\",(()=>this.clearCache())),this.timeInfo=e.timeInfo,e.cacheSpatialQueries&&(this._geometryQueryCache=new c(X+++\"$$\",K)),this.fieldsIndex=new H(e.fields),e.scheduler&&e.priority&&(this._frameTask=e.scheduler.registerTask(e.priority))}destroy(){this._frameTask=r(this._frameTask),this.clearCache(),a(this._geometryQueryCache),this._changeHandle=r(this._changeHandle),a(this.fieldsIndex)}get featureAdapter(){return this.featureStore.featureAdapter}get fullExtent(){const e=this.featureStore.fullBounds;return n(e)?null:{xmin:e[0],ymin:e[1],xmax:e[2],ymax:e[3],spatialReference:U(this.spatialReference)}}get timeExtent(){return this.timeInfo?(this._timeExtent||(this._timeExtent=M(this.timeInfo,this.featureStore)),this._timeExtent):null}clearCache(){this._geometryQueryCache?.clear(),this._allItems=null,this._timeExtent=null}async executeQuery(e,t){try{return(await this._executeQuery(e,{},t)).createQueryResponse()}catch(i){if(i!==Z)throw i;return new q([],e,this).createQueryResponse()}}async executeQueryForCount(e={},t){try{return(await this._executeQuery(e,{returnGeometry:!1,returnCentroid:!1,outSR:null},t)).createQueryResponseForCount()}catch(i){if(i!==Z)throw i;return 0}}async executeQueryForExtent(e,t){const i=e.outSR;try{const s=await this._executeQuery(e,{returnGeometry:!0,returnCentroid:!1,outSR:null},t),r=s.size;if(!r)return{count:0,extent:null};f(te,m),this.featureStore.forEachBounds(s.items,(e=>p(te,e)),ee);const a={xmin:te[0],ymin:te[1],xmax:te[3],ymax:te[4],spatialReference:U(this.spatialReference)};this.hasZ&&isFinite(te[2])&&isFinite(te[5])&&(a.zmin=te[2],a.zmax=te[5]);const n=T(a,s.spatialReference,i);if(n.spatialReference=U(i||this.spatialReference),n.xmax-n.xmin==0){const e=h(n.spatialReference);n.xmin-=e,n.xmax+=e}if(n.ymax-n.ymin==0){const e=h(n.spatialReference);n.ymin-=e,n.ymax+=e}if(this.hasZ&&null!=n.zmin&&null!=n.zmax&&n.zmax-n.zmin==0){const e=h(n.spatialReference);n.zmin-=e,n.zmax+=e}return{count:r,extent:n}}catch(s){if(s===Z)return{count:0,extent:null};throw s}}async executeQueryForIds(e,t){return this.executeQueryForIdSet(e,t).then((e=>Array.from(e)))}async executeQueryForIdSet(e,t){try{const i=await this._executeQuery(e,{returnGeometry:!0,returnCentroid:!1,outSR:null},t),s=i.items,r=new Set;return await this._reschedule((()=>{for(const e of s)r.add(i.featureAdapter.getObjectId(e))}),t),r}catch(i){if(i===Z)return new Set;throw i}}async executeQueryForSnapping(e,t){const{point:i,distance:s,types:r}=e;if(r===v.NONE)return{candidates:[]};const a=await this._reschedule((()=>this._checkQuerySupport(e.query)),t),o=!F(i.spatialReference,this.spatialReference);o&&await k(i.spatialReference,this.spatialReference);const u=\"number\"==typeof s?s:s.x,c=\"number\"==typeof s?s:s.y,h={xmin:i.x-u,xmax:i.x+u,ymin:i.y-c,ymax:i.y+c,spatialReference:i.spatialReference},l=o?T(h,this.spatialReference):h;if(!l)return{candidates:[]};const f=(await S(x(i),null,{signal:t}))[0],m=(await S(x(l),null,{signal:t}))[0];if(n(f)||n(m))return{candidates:[]};const p=new q(this._searchFeatures(this._getQueryBBoxes(m.toJSON())),a,this);await this._reschedule((()=>this._executeObjectIdsQuery(p)),t),await this._reschedule((()=>this._executeTimeQuery(p)),t),await this._reschedule((()=>this._executeAttributesQuery(p)),t);const d=f.toJSON(),y=o?T(d,this.spatialReference):d,g=o?Math.max(l.xmax-l.xmin,l.ymax-l.ymin)/2:s;return p.createSnappingResponse({...e,point:y,distance:g},i.spatialReference)}async executeQueryForLatestObservations(e,t){if(!this.timeInfo||!this.timeInfo.trackIdField)throw new i(W,\"Missing timeInfo or timeInfo.trackIdField\",{query:e,timeInfo:this.timeInfo});try{const i=await this._executeQuery(e,{},t);return await this._reschedule((()=>this._filterLatest(i)),t),i.createQueryResponse()}catch(s){if(s!==Z)throw s;return new q([],e,this).createQueryResponse()}}async executeQueryForSummaryStatistics(e={},t,i){const{field:s,normalizationField:r,valueExpression:a}=t;return(await this._getQueryEngineResultForStats(e,{field:s,normalizationField:r,valueExpression:a},i)).createSummaryStatisticsResponse(t)}async executeQueryForUniqueValues(e={},t,i){const{field:s,field2:r,field3:a,valueExpression:n}=t;return(await this._getQueryEngineResultForStats(e,{field:s,field2:r,field3:a,valueExpression:n},i)).createUniqueValuesResponse(t)}async executeQueryForClassBreaks(e={},t,i){const{field:s,normalizationField:r,valueExpression:a}=t;return(await this._getQueryEngineResultForStats(e,{field:s,normalizationField:r,valueExpression:a},i)).createClassBreaksResponse(t)}async executeQueryForHistogram(e={},t,i){const{field:s,normalizationField:r,valueExpression:a}=t;return(await this._getQueryEngineResultForStats(e,{field:s,normalizationField:r,valueExpression:a},i)).createHistogramResponse(t)}async _schedule(e,t){return o(this._frameTask)?this._frameTask.schedule(e,t):e(J)}async _reschedule(e,t){return o(this._frameTask)?this._frameTask.reschedule(e,t):e(J)}_getAll(e){return n(this._allItems)&&(this._allItems=this.featureStore.toArray()),new q(this._allItems,e,this)}async _executeQuery(e,t,i){e=s(e),e=await this._schedule((()=>N(e,this.definitionExpression,this.spatialReference)),i),e=await this._reschedule((()=>this._checkQuerySupport(e)),i),e={...e,...t};const r=await this._reschedule((()=>this._executeSceneFilterQuery(e,i)),i),a=await this._reschedule((()=>this._executeGeometryQuery(e,r,i)),i);return await this._reschedule((()=>this._executeAggregateIdsQuery(a)),i),await this._reschedule((()=>this._executeObjectIdsQuery(a)),i),await this._reschedule((()=>this._executeTimeQuery(a)),i),await this._reschedule((()=>this._executeAttributesQuery(a)),i),a}async _executeSceneFilterQuery(e,t){if(n(e.sceneFilter))return null;const{outSR:i,returnGeometry:s,returnCentroid:r}=e,a=this.featureStore.featureSpatialReference,o=e.sceneFilter.geometry,u=n(a)||F(a,o.spatialReference)?o:T(o,a);if(!u)return null;const c=s||r,h=R(i)&&!F(this.spatialReference,i)&&c?async e=>this._project(e,i):e=>e,l=this.featureAdapter,f=this._searchFeatures(this._getQueryBBoxes(u));if(\"disjoint\"===e.sceneFilter.spatialRelationship){if(!f.length)return null;const i=new Set;for(const e of f)i.add(l.getObjectId(e));const s=await this._reschedule((()=>this.featureStore.toArray()),t),r=await this._reschedule((async()=>{const r=await z(\"esriSpatialRelDisjoint\",u,this.geometryType,this.hasZ,this.hasM),a=e=>!i.has(l.getObjectId(e))||r(l.getGeometry(e)),n=await this._runSpatialFilter(s,a,t);return new q(n,e,this)}),t);return h(r)}if(!f.length)return new q([],e,this);if(this._canExecuteSinglePass(u,e))return h(new q(f,e,this));const m=await z(\"esriSpatialRelContains\",u,this.geometryType,this.hasZ,this.hasM),p=await this._runSpatialFilter(f,(e=>m(l.getGeometry(e))),t);return h(new q(p,e,this))}async _executeGeometryQuery(i,s,r){if(o(s)&&0===s.items.length)return s;i=o(s)?s.query:i;const{geometry:a,outSR:u,spatialRel:c,returnGeometry:h,returnCentroid:l}=i,f=this.featureStore.featureSpatialReference,m=!a||n(f)||F(f,a.spatialReference)?a:T(a,f),p=h||l,d=R(u)&&!F(this.spatialReference,u),y=this._geometryQueryCache&&n(s)?d&&p?JSON.stringify({originalFilterGeometry:a,spatialRelationship:c,outSpatialReference:u}):JSON.stringify({originalFilterGeometry:a,spatialRelationship:c}):null,g=y?this._geometryQueryCache.get(y):null;if(o(g))return new q(g,i,this);const x=async e=>(d&&p&&await this._project(e,u),y&&this._geometryQueryCache.put(y,e.items,e.items.length+1),e);if(!m)return x(o(s)?s:this._getAll(i));const _=this.featureAdapter;let w=this._searchFeatures(this._getQueryBBoxes(a));if(\"esriSpatialRelDisjoint\"===c){if(!w.length)return x(o(s)?s:this._getAll(i));const e=new Set;for(const i of w)e.add(_.getObjectId(i));const t=o(s)?s.items:await this._reschedule((()=>this.featureStore.toArray()),r),a=await this._reschedule((async()=>{const s=await z(c,m,this.geometryType,this.hasZ,this.hasM),a=t=>!e.has(_.getObjectId(t))||s(_.getGeometry(t)),n=await this._runSpatialFilter(t,a,r);return new q(n,i,this)}),r);return x(a)}if(o(s)){const i=new e;w=w.filter((e=>t(s.items,e,s.items.length,i)>=0))}if(!w.length){const e=new q([],i,this);return y&&this._geometryQueryCache.put(y,e.items,1),e}if(this._canExecuteSinglePass(m,i))return x(new q(w,i,this));const S=await z(c,m,this.geometryType,this.hasZ,this.hasM),Q=await this._runSpatialFilter(w,(e=>S(_.getGeometry(e))),r);return x(new q(Q,i,this))}_executeAggregateIdsQuery(e){if(0===e.items.length||!e.query.aggregateIds||!e.query.aggregateIds.length||n(this.aggregateAdapter))return;const t=new Set;for(const s of e.query.aggregateIds){this.aggregateAdapter.getFeatureObjectIds(s).forEach((e=>t.add(e)))}const i=this.featureAdapter.getObjectId;e.items=e.items.filter((e=>t.has(i(e))))}_executeObjectIdsQuery(e){if(0===e.items.length||!e.query.objectIds||!e.query.objectIds.length)return;const t=new Set(e.query.objectIds),i=this.featureAdapter.getObjectId;e.items=e.items.filter((e=>t.has(i(e))))}_executeTimeQuery(e){if(0===e.items.length)return;const t=P(this.timeInfo,e.query.timeExtent,this.featureAdapter);n(t)||(e.items=e.items.filter(t))}_executeAttributesQuery(e){if(0===e.items.length)return;const t=I(e.query.where,this.fieldsIndex);if(t){if(!t.isStandardized)throw new TypeError(\"Where clause is not standardized\");e.items=e.items.filter((e=>t.testFeature(e,this.featureAdapter)))}}async _runSpatialFilter(e,t,i){if(!t)return e;if(n(this._frameTask))return e.filter((e=>t(e)));let s=0;const r=new Array,a=async n=>{for(;s<e.length;){const o=e[s++];t(o)&&(r.push(o),n.madeProgress()),n.done&&await this._reschedule((e=>a(e)),i)}};return this._reschedule((e=>a(e)),i).then((()=>r))}_filterLatest(e){const{trackIdField:t,startTimeField:i,endTimeField:s}=this.timeInfo,r=s||i,a=new Map,n=this.featureAdapter.getAttribute;for(const o of e.items){const e=n(o,t),i=n(o,r),s=a.get(e);(!s||i>n(s,r))&&a.set(e,o)}e.items=Array.from(a.values())}_canExecuteSinglePass(e,t){const{spatialRel:i}=t;return O(e)&&(\"esriSpatialRelEnvelopeIntersects\"===i||\"esriGeometryPoint\"===this.geometryType&&(\"esriSpatialRelIntersects\"===i||\"esriSpatialRelContains\"===i||\"esriSpatialRelWithin\"===i))}async _project(e,t){if(!t||F(this.spatialReference,t))return e;const i=this.featureAdapter,s=await C(e.items.map((e=>D(this.geometryType,this.hasZ,this.hasM,i.getGeometry(e)))),this.spatialReference,t);return e.items=s.map(((t,s)=>i.cloneWithGeometry(e.items[s],Q(t,this.hasZ,this.hasM)))),e}_getQueryBBoxes(e){if(O(e)){if(_(e))return[d(e.xmin,e.ymin,e.xmax,e.ymax)];if(w(e))return e.rings.map((e=>d(Math.min(e[0][0],e[2][0]),Math.min(e[0][1],e[2][1]),Math.max(e[0][0],e[2][0]),Math.max(e[0][1],e[2][1]))))}return[g(y(),e)]}_searchFeatures(e){for(const i of e)this.featureStore.forEachInBounds(i,(e=>ie.add(e)));const t=Array.from(ie.values());return ie.clear(),t}async _checkStatisticsSupport(e,t){if(e.distance<0||null!=e.geometryPrecision||e.multipatchOption||e.pixelSize||e.relationParam||e.text||e.outStatistics||e.groupByFieldsForStatistics||e.having||e.orderByFields)throw new i(W,\"Unsupported query options\",{query:e});return this._checkAttributesQuerySupport(e),Promise.all([this._checkStatisticsParamsSupport(t),G(e,this.geometryType,this.spatialReference),k(this.spatialReference,e.outSR)]).then((()=>e))}async _checkStatisticsParamsSupport(e){let t=[];if(e.valueExpression){const{arcadeUtils:i}=await L();t=i.extractFieldNames(e.valueExpression)}if(e.field&&t.push(e.field),e.field2&&t.push(e.field2),e.field3&&t.push(e.field3),e.normalizationField&&t.push(e.normalizationField),!t.length)throw new i(W,\"params should have at least a field or valueExpression\",{params:e});j(this.fieldsIndex,t,\"params contains missing fields\")}async _checkQuerySupport(e){if(e.distance<0||null!=e.geometryPrecision||e.multipatchOption||e.pixelSize||e.relationParam||e.text)throw new i(W,\"Unsupported query options\",{query:e});return this._checkAttributesQuerySupport(e),this._checkStatisticsQuerySupport(e),Promise.all([G(e,this.geometryType,this.spatialReference),k(this.spatialReference,e.outSR)]).then((()=>e))}_checkAttributesQuerySupport(e){const{outFields:t,orderByFields:s,returnDistinctValues:r,outStatistics:a}=e,n=a?a.map((e=>e.outStatisticFieldName&&e.outStatisticFieldName.toLowerCase())).filter(Boolean):[];if(s&&s.length>0){const e=\" asc\",t=\" desc\",i=s.map((i=>{const s=i.toLowerCase();return s.includes(e)?s.split(e)[0]:s.includes(t)?s.split(t)[0]:i})).filter((e=>!n.includes(e)));j(this.fieldsIndex,i,\"orderByFields contains missing fields\")}if(t&&t.length>0)j(this.fieldsIndex,t,\"outFields contains missing fields\");else if(r)throw new i(W,\"outFields should be specified for returnDistinctValues\",{query:e});E(this.fieldsIndex,e.where)}_checkStatisticsQuerySupport(e){const{outStatistics:t,groupByFieldsForStatistics:s,having:r}=e,a=s&&s.length,n=t&&t.length;if(r){if(!a||!n)throw new i(W,\"outStatistics and groupByFieldsForStatistics should be specified with having\",{query:e});b(this.fieldsIndex,r,t)}if(n){if(!V(t))return;const r=t.map((e=>e.onStatisticField)).filter(Boolean);j(this.fieldsIndex,r,\"onStatisticFields contains missing fields\"),a&&j(this.fieldsIndex,s,\"groupByFieldsForStatistics contains missing fields\");for(const s of t){const{onStatisticField:t,statisticType:r}=s;if((\"percentile_disc\"===r||\"percentile_cont\"===r)&&\"statisticParameters\"in s){const{statisticParameters:t}=s;if(!t)throw new i(W,\"statisticParamters should be set for percentile type\",{definition:s,query:e})}else if(\"count\"!==r&&t&&A(t,this.fieldsIndex))throw new i(W,\"outStatistics contains non-numeric fields\",{definition:s,query:e})}}}async _getQueryEngineResultForStats(e,t,i){e=s(e);try{e=await this._schedule((()=>N(e,this.definitionExpression,this.spatialReference)),i),e=await this._reschedule((()=>this._checkStatisticsSupport(e,t)),i);const s=await this._reschedule((()=>this._executeSceneFilterQuery(e,i)),i),r=await this._reschedule((()=>this._executeGeometryQuery(e,s,i)),i);return await this._reschedule((()=>this._executeAggregateIdsQuery(r)),i),await this._reschedule((()=>this._executeObjectIdsQuery(r)),i),await this._reschedule((()=>this._executeTimeQuery(r)),i),await this._reschedule((()=>this._executeAttributesQuery(r)),i),r}catch(r){if(r!==Z)throw r;return new q([],e,this)}}}const ee=l(),te=l(),ie=new Set;export{$ as Feature,Y as QueryEngine};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nconst t={supportsStatistics:!0,supportsPercentileStatistics:!0,supportsSpatialAggregationStatistics:!1,supportedSpatialAggregationStatistics:{envelope:!1,centroid:!1,convexHull:!1},supportsCentroid:!0,supportsCacheHint:!1,supportsDistance:!0,supportsDistinct:!0,supportsExtent:!0,supportsGeometryProperties:!1,supportsHavingClause:!0,supportsOrderBy:!0,supportsPagination:!0,supportsQuantization:!0,supportsQuantizationEditMode:!1,supportsQueryGeometry:!0,supportsResultType:!1,supportsSqlExpression:!0,supportsMaxRecordCountFactor:!1,supportsStandardizedQueriesOnly:!0,supportsTopFeaturesQuery:!1,supportsQueryByOthers:!0,supportsHistoricMoment:!1,supportsFormatPBF:!1,supportsDisjointSpatialRelationship:!0,supportsDefaultSpatialReference:!1,supportsFullTextSearch:!1,supportsCompactGeometry:!1,maxRecordCountFactor:void 0,maxRecordCount:void 0,standardMaxRecordCount:void 0,tileMaxRecordCount:void 0};export{t as queryCapabilities};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nfunction n(n,t){return n?t?4:3:t?3:2}function t(n,t,r,e){return o(n,t,r,e.coords[0],e.coords[1])}function r(t,r,e,c,u,f){const s=n(u,f),{coords:i,lengths:l}=c;if(!l)return!1;for(let n=0,d=0;n<l.length;n++,d+=s)if(!o(t,r,e,i[d],i[d+1]))return!1;return!0}function o(t,r,o,c,u){if(!t)return!1;const f=n(r,o),{coords:s,lengths:i}=t;let l=!1,d=0;for(const n of i)l=e(l,s,f,d,n,c,u),d+=n*f;return l}function e(n,t,r,o,e,c,u){let f=n,s=o;for(let i=o,l=o+e*r;i<l;i+=r){s=i+r,s===l&&(s=o);const n=t[i],e=t[i+1],d=t[s],g=t[s+1];(e<u&&g>=u||g<u&&e>=u)&&n+(u-e)/(g-e)*(d-n)<c&&(f=!f)}return f}export{o as polygonContainsCoords,r as polygonContainsMultipoint,t as polygonContainsPoint};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Error.js\";import{extentContainsPoint as r,extentContainsMultipoint as t}from\"../../../geometry/support/contains.js\";import{getExtentIntersector as i}from\"../../../geometry/support/intersects.js\";import{isPolygon as s,isExtent as o,getJsonType as n}from\"../../../geometry/support/jsonUtils.js\";import{isValid as l}from\"../../../geometry/support/spatialReferenceUtils.js\";import{polygonContainsPoint as a,polygonContainsMultipoint as p}from\"../contains.js\";import{convertFromPolygon as u}from\"../featureConversionUtils.js\";import m from\"../OptimizedGeometry.js\";import{checkProjectionSupport as y}from\"./projectionSupport.js\";import{getGeometry as f}from\"./utils.js\";const c=\"feature-store:unsupported-query\",R={esriSpatialRelIntersects:\"intersects\",esriSpatialRelContains:\"contains\",esriSpatialRelCrosses:\"crosses\",esriSpatialRelDisjoint:\"disjoint\",esriSpatialRelEnvelopeIntersects:\"intersects\",esriSpatialRelIndexIntersects:null,esriSpatialRelOverlaps:\"overlaps\",esriSpatialRelTouches:\"touches\",esriSpatialRelWithin:\"within\",esriSpatialRelRelation:null},S={spatialRelationship:{esriSpatialRelIntersects:!0,esriSpatialRelContains:!0,esriSpatialRelWithin:!0,esriSpatialRelCrosses:!0,esriSpatialRelDisjoint:!0,esriSpatialRelTouches:!0,esriSpatialRelOverlaps:!0,esriSpatialRelEnvelopeIntersects:!0,esriSpatialRelIndexIntersects:!1,esriSpatialRelRelation:!1},queryGeometry:{esriGeometryPoint:!0,esriGeometryMultipoint:!0,esriGeometryPolyline:!0,esriGeometryPolygon:!0,esriGeometryEnvelope:!0},layerGeometry:{esriGeometryPoint:!0,esriGeometryMultipoint:!0,esriGeometryPolyline:!0,esriGeometryPolygon:!0,esriGeometryEnvelope:!1}};function G(e){return null!=e&&!0===S.spatialRelationship[e]}function g(e){return null!=e&&!0===S.queryGeometry[n(e)]}function j(e){return null!=e&&!0===S.layerGeometry[e]}function h(){return import(\"../../../geometry/geometryEngineJSON.js\")}function v(e,n,l,y,c){if(s(n)&&\"esriGeometryPoint\"===l&&(\"esriSpatialRelIntersects\"===e||\"esriSpatialRelContains\"===e)){const e=u(new m,n,!1,!1);return Promise.resolve((r=>a(e,!1,!1,r)))}if(s(n)&&\"esriGeometryMultipoint\"===l){const r=u(new m,n,!1,!1);if(\"esriSpatialRelContains\"===e)return Promise.resolve((e=>p(r,!1,!1,e,y,c)))}if(o(n)&&\"esriGeometryPoint\"===l&&(\"esriSpatialRelIntersects\"===e||\"esriSpatialRelContains\"===e))return Promise.resolve((e=>r(n,f(l,y,c,e))));if(o(n)&&\"esriGeometryMultipoint\"===l&&\"esriSpatialRelContains\"===e)return Promise.resolve((e=>t(n,f(l,y,c,e))));if(o(n)&&\"esriSpatialRelIntersects\"===e){const e=i(l);return Promise.resolve((r=>e(n,f(l,y,c,r))))}return h().then((r=>{const t=r[R[e]].bind(null,n.spatialReference,n);return e=>t(f(l,y,c,e))}))}async function P(r,t,i){const{spatialRel:s,geometry:o}=r;if(o){if(!G(s))throw new e(c,\"Unsupported query spatial relationship\",{query:r});if(l(o.spatialReference)&&l(i)){if(!g(o))throw new e(c,\"Unsupported query geometry type\",{query:r});if(!j(t))throw new e(c,\"Unsupported layer geometry type\",{query:r});if(r.outSR)return y(r.geometry&&r.geometry.spatialReference,r.outSR)}}}function I(e){if(o(e))return!0;if(s(e)){for(const r of e.rings){if(5!==r.length)return!1;if(r[0][0]!==r[1][0]||r[0][0]!==r[4][0]||r[2][0]!==r[3][0]||r[0][1]!==r[3][1]||r[0][1]!==r[4][1]||r[1][1]!==r[2][1])return!1}return!0}return!1}export{I as canQueryWithRBush,P as checkSpatialQuerySupport,v as getSpatialQueryOperator};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{extentIntersectsExtent as e,getFeatureExtentIntersector as t}from\"./intersectsBase.js\";export{extentIntersectsExtent,extentIntersectsMultipoint,extentIntersectsPoint,extentIntersectsPolygon,extentIntersectsPolyline,extentIntersectsRings,getFeatureExtentIntersector,isSelfIntersecting,segmentIntersects}from\"./intersectsBase.js\";function n(n){return\"mesh\"===n?e:t(n)}export{n as getExtentIntersector};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nfunction t(t,n){if(!t)return null;const e=n.featureAdapter,{startTimeField:u,endTimeField:l}=t;let r=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;if(u&&l)n.forEach((t=>{const n=e.getAttribute(t,u),o=e.getAttribute(t,l);null==n||isNaN(n)||(r=Math.min(r,n)),null==o||isNaN(o)||(i=Math.max(i,o))}));else{const t=u||l;n.forEach((n=>{const u=e.getAttribute(n,t);null==u||isNaN(u)||(r=Math.min(r,u),i=Math.max(i,u))}))}return{start:r,end:i}}function n(t,n,r){if(!n||!t)return null;const{startTimeField:i,endTimeField:o}=t;if(!i&&!o)return null;const{start:s,end:a}=n;return null===s&&null===a?null:void 0===s&&void 0===a?l():i&&o?e(r,i,o,s,a):u(r,i||o,s,a)}function e(t,n,e,u,l){return null!=u&&null!=l?r=>{const i=t.getAttribute(r,n),o=t.getAttribute(r,e);return(null==i||i<=l)&&(null==o||o>=u)}:null!=u?n=>{const l=t.getAttribute(n,e);return null==l||l>=u}:null!=l?e=>{const u=t.getAttribute(e,n);return null==u||u<=l}:void 0}function u(t,n,e,u){return null!=e&&null!=u&&e===u?u=>t.getAttribute(u,n)===e:null!=e&&null!=u?l=>{const r=t.getAttribute(l,n);return r>=e&&r<=u}:null!=e?u=>t.getAttribute(u,n)>=e:null!=u?e=>t.getAttribute(e,n)<=u:void 0}function l(){return()=>!1}export{t as getTimeExtent,n as getTimeOperator};\n"],"names":["W","K","u","X","Y","constructor","e","this","capabilities","query","B","geometryType","hasM","hasZ","objectIdField","spatialReference","definitionExpression","featureStore","aggregateAdapter","_changeHandle","events","on","clearCache","timeInfo","cacheSpatialQueries","_geometryQueryCache","c","fieldsIndex","H","fields","scheduler","priority","_frameTask","registerTask","destroy","r","a","featureAdapter","fullExtent","fullBounds","n","xmin","ymin","xmax","ymax","U","timeExtent","_timeExtent","M","_this$_geometryQueryC","clear","_allItems","executeQuery","t","_executeQuery","createQueryResponse","i","Z","q","executeQueryForCount","arguments","length","undefined","returnGeometry","returnCentroid","outSR","createQueryResponseForCount","executeQueryForExtent","s","size","count","extent","f","te","m","forEachBounds","items","p","ee","isFinite","zmin","zmax","T","h","executeQueryForIds","executeQueryForIdSet","then","Array","from","Set","_reschedule","add","getObjectId","executeQueryForSnapping","point","distance","types","v","NONE","candidates","_checkQuerySupport","o","F","k","x","y","l","S","signal","_searchFeatures","_getQueryBBoxes","toJSON","_executeObjectIdsQuery","_executeTimeQuery","_executeAttributesQuery","d","g","Math","max","createSnappingResponse","_objectSpread","executeQueryForLatestObservations","trackIdField","_filterLatest","executeQueryForSummaryStatistics","field","normalizationField","valueExpression","_getQueryEngineResultForStats","createSummaryStatisticsResponse","executeQueryForUniqueValues","field2","field3","createUniqueValuesResponse","executeQueryForClassBreaks","createClassBreaksResponse","executeQueryForHistogram","createHistogramResponse","_schedule","schedule","J","reschedule","_getAll","toArray","N","_executeSceneFilterQuery","_executeGeometryQuery","_executeAggregateIdsQuery","sceneFilter","featureSpatialReference","geometry","R","async","_project","spatialRelationship","z","_runSpatialFilter","has","getGeometry","_canExecuteSinglePass","spatialRel","JSON","stringify","originalFilterGeometry","outSpatialReference","get","put","_","w","filter","Q","aggregateIds","getFeatureObjectIds","forEach","objectIds","P","I","where","isStandardized","TypeError","testFeature","push","madeProgress","done","startTimeField","endTimeField","Map","getAttribute","set","values","O","C","map","D","cloneWithGeometry","rings","min","forEachInBounds","ie","_checkStatisticsSupport","geometryPrecision","multipatchOption","pixelSize","relationParam","text","outStatistics","groupByFieldsForStatistics","having","orderByFields","_checkAttributesQuerySupport","Promise","all","_checkStatisticsParamsSupport","G","arcadeUtils","L","extractFieldNames","params","j","_checkStatisticsQuerySupport","outFields","returnDistinctValues","outStatisticFieldName","toLowerCase","Boolean","includes","split","E","b","every","statisticType","V","onStatisticField","A","definition","statisticParameters","supportsStatistics","supportsPercentileStatistics","supportsSpatialAggregationStatistics","supportedSpatialAggregationStatistics","envelope","centroid","convexHull","supportsCentroid","supportsCacheHint","supportsDistance","supportsDistinct","supportsExtent","supportsGeometryProperties","supportsHavingClause","supportsOrderBy","supportsPagination","supportsQuantization","supportsQuantizationEditMode","supportsQueryGeometry","supportsResultType","supportsSqlExpression","supportsMaxRecordCountFactor","supportsStandardizedQueriesOnly","supportsTopFeaturesQuery","supportsQueryByOthers","supportsHistoricMoment","supportsFormatPBF","supportsDisjointSpatialRelationship","supportsDefaultSpatialReference","supportsFullTextSearch","supportsCompactGeometry","maxRecordCountFactor","maxRecordCount","standardMaxRecordCount","tileMaxRecordCount","coords","lengths","esriSpatialRelIntersects","esriSpatialRelContains","esriSpatialRelCrosses","esriSpatialRelDisjoint","esriSpatialRelEnvelopeIntersects","esriSpatialRelIndexIntersects","esriSpatialRelOverlaps","esriSpatialRelTouches","esriSpatialRelWithin","esriSpatialRelRelation","queryGeometry","esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon","esriGeometryEnvelope","layerGeometry","resolve","bind","Number","POSITIVE_INFINITY","NEGATIVE_INFINITY","isNaN","start","end"],"sourceRoot":""}