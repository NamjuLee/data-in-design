"use strict";(self.webpackChunkData_in_Design=self.webpackChunkData_in_Design||[]).push([[357,6314],{93795:(e,t,l)=>{function n(e){return e=e||globalThis.location.hostname,c.some((t=>{var l;return null!=(null===(l=e)||void 0===l?void 0:l.match(t))}))}function a(e,t){return e&&(t=t||globalThis.location.hostname)?null!=t.match(s)||null!=t.match(r)?e.replace("static.arcgis.com","staticdev.arcgis.com"):null!=t.match(o)||null!=t.match(i)?e.replace("static.arcgis.com","staticqa.arcgis.com"):e:e}l.d(t,{EM:()=>a,b5:()=>n});const s=/^devext.arcgis.com$/,o=/^qaext.arcgis.com$/,r=/^[\w-]*\.mapsdevext.arcgis.com$/,i=/^[\w-]*\.mapsqa.arcgis.com$/,c=[/^([\w-]*\.)?[\w-]*\.zrh-dev-local.esri.com$/,s,o,/^jsapps.esri.com$/,r,i]},90357:(e,t,l)=>{l.d(t,{previewSymbol3D:()=>C});var n=l(8),a=l(28899),s=l(59784),o=(l(81806),l(50076)),r=l(76460),i=l(30726),c=l(50346),u=l(76931),p=l(87840),h=l(76589),m=l(47675),y=l(65709),f=l(76442),d=l(94439),b=l(26314);const v=y.CB.size,g=y.CB.maxSize,w=y.CB.maxOutlineSize,k=y.CB.lineWidth,M=y.CB.tallSymbolWidth;function x(e){const t=e.outline,l=(0,i.Ru)(e.material)?e.material.color:null,n=(0,i.Ru)(l)?l.toHex():null;if((0,i.$I)(t)||"pattern"in t&&(0,i.Ru)(t.pattern)&&"style"===t.pattern.type&&"none"===t.pattern.style)return"fill"===e.type&&"#ffffff"===n?{color:"#bdc3c7",width:.75}:null;const a=(0,u.Lz)(t.size)||0;return{color:"rgba("+((0,i.Ru)(t.color)?t.color.toRgba():"255,255,255,1")+")",width:Math.min(a,w),style:"pattern"in t&&(0,i.Ru)(t.pattern)&&"style"===t.pattern.type?(0,p.O1)(t.pattern.style):null,join:"butt",cap:"patternCap"in t?t.patternCap:"butt"}}function L(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const l=e.a,n=(0,s.N2)(e),a=n.h,o=n.s/t,r=100-(100-n.v)/t,{r:i,g:c,b:u}=(0,s.$)({h:a,s:o,v:r});return[i,c,u,l]}function z(e){return"water"===e.type?(0,i.$I)(e.color)?null:e.color:(0,i.$I)(e.material)||(0,i.$I)(e.material.color)?null:e.material.color}function S(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const l=z(e);if(!l){if("fill"===e.type)return null;const l=p.Sw.r,n=(0,y.dr)(l,t);return[n,n,n,100]}const n=l.toRgba();for(let a=0;a<3;a++)n[a]=(0,y.dr)(n[a],t);return n}async function A(e,t){const l=e.style;return"none"===l?null:{type:"pattern",x:0,y:0,src:await(0,p.rc)((0,a.s)("esri/symbols/patterns/".concat(l,".png")),t.toCss(!0)),width:5,height:5}}function j(e){return e.outline?x(e):{color:"rgba(0, 0, 0, 1)",width:1.5}}function D(e,t){const l=z(e);if(!l)return null;let n="rgba(";return n+=(0,y.dr)(l.r,t)+",",n+=(0,y.dr)(l.g,t)+",",n+=(0,y.dr)(l.b,t)+",",n+l.a+");"}function P(e,t){const l=D(e,t);return l?"pattern"in e&&(0,i.Ru)(e.pattern)&&"style"===e.pattern.type&&"none"===e.pattern.style?null:{color:l,width:Math.min(e.size?(0,u.Lz)(e.size):.75,w),style:"pattern"in e&&(0,i.Ru)(e.pattern)&&"style"===e.pattern.type?(0,p.O1)(e.pattern.style):null,cap:"cap"in e?e.cap:null,join:"join"in e?"miter"===e.join?(0,u.Lz)(2):e.join:null}:{}}function R(e,t,l){const n=null!=l?.75*l:0;return{type:"linear",x1:n?.25*n:0,y1:n?.5*n:0,x2:n||4,y2:n?.5*n:4,colors:[{color:e,offset:0},{color:t,offset:1}]}}function $(e){const t="number"==typeof(null===e||void 0===e?void 0:e.size)?null===e||void 0===e?void 0:e.size:null;return t?(0,u.Lz)(t):null}function N(e,t){var l;const n=$(t),s=null!==t&&void 0!==t&&t.maxSize?(0,u.Lz)(t.maxSize):null,o=null!==(l=null===t||void 0===t?void 0:t.disableUpsampling)&&void 0!==l&&l,i=e.symbolLayers,p=[];let w=0,k=0;const L=i.getItemAt(i.length-1);let z;return L&&"icon"===L.type&&(z=L.size&&(0,u.Lz)(L.size)),i.forEach((l=>{if("icon"!==l.type&&"object"!==l.type)return;const r="icon"===l.type?l.size&&(0,u.Lz)(l.size):0,i=n||r?Math.ceil(Math.min(n||r,s||g)):v;if(l&&l.resource&&l.resource.href){const t=function(e,t){const l=t&&t.resource,n=l&&l.href;if(e.thumbnail&&e.thumbnail.url)return Promise.resolve(e.thumbnail.url);if(n&&"object"!==t.type)return Promise.resolve((0,d.N7)(e,t));const s=(0,a.s)("esri/images/Legend/legend3dsymboldefault.png");return e.styleOrigin&&(e.styleOrigin.styleName||e.styleOrigin.styleUrl)?(0,b.resolveWebStyleSymbol)(e.styleOrigin,{portal:e.styleOrigin.portal},"webRef").catch((e=>e)).then((e=>{var t;return(null===e||void 0===e||null===(t=e.thumbnail)||void 0===t?void 0:t.url)||s})):Promise.resolve(s)}(e,l).then((e=>{const t=l.get("material.color"),n=function(e){return"icon"===e.type?"multiply":"tint"}(l);return(0,f.U)(e,i,t,n,o)})).then((e=>{const t=e.width,l=e.height;return w=Math.max(w,t),k=Math.max(k,l),[{shape:{type:"image",x:0,y:0,width:t,height:l,src:e.url},fill:null,stroke:null}]}));p.push(t)}else{var c;let e=i;"icon"===l.type&&z&&n&&(e=i*(r/z));const a="tall"===(null===t||void 0===t?void 0:t.symbolConfig)||(null===t||void 0===t||null===(c=t.symbolConfig)||void 0===c?void 0:c.isTall)||"object"===l.type&&function(e){const t=e.depth,l=e.height,n=e.width;return 0!==n&&0!==t&&0!==l&&n===t&&null!=n&&null!=l&&n<l}(l);w=Math.max(w,a?M:e),k=Math.max(k,e),p.push(Promise.resolve(function(e,t,l){const n=[];if(!e)return n;switch(e.type){case"icon":{const l=0,a=0,s=t,o=t;switch(e.resource&&e.resource.primitive||h.r){case"circle":n.push({shape:{type:"circle",cx:0,cy:0,r:.5*t},fill:S(e,0),stroke:x(e)});break;case"square":n.push({shape:{type:"path",path:[{command:"M",values:[l,o]},{command:"L",values:[l,a]},{command:"L",values:[s,a]},{command:"L",values:[s,o]},{command:"Z",values:[]}]},fill:S(e,0),stroke:x(e)});break;case"triangle":n.push({shape:{type:"path",path:[{command:"M",values:[l,o]},{command:"L",values:[.5*s,a]},{command:"L",values:[s,o]},{command:"Z",values:[]}]},fill:S(e,0),stroke:x(e)});break;case"cross":n.push({shape:{type:"path",path:[{command:"M",values:[.5*s,a]},{command:"L",values:[.5*s,o]},{command:"M",values:[l,.5*o]},{command:"L",values:[s,.5*o]}]},stroke:j(e)});break;case"x":n.push({shape:{type:"path",path:[{command:"M",values:[l,a]},{command:"L",values:[s,o]},{command:"M",values:[s,a]},{command:"L",values:[l,o]}]},stroke:j(e)});break;case"kite":n.push({shape:{type:"path",path:[{command:"M",values:[l,.5*o]},{command:"L",values:[.5*s,a]},{command:"L",values:[s,.5*o]},{command:"L",values:[.5*s,o]},{command:"Z",values:[]}]},fill:S(e,0),stroke:x(e)})}break}case"object":switch(e.resource&&e.resource.primitive||m.r){case"cone":{const a=R(S(e,0),S(e,-.6),l?M:t),s=(0,y.mN)(t,l);n.push({shape:s[0],fill:a}),n.push({shape:s[1],fill:a});break}case"inverted-cone":{const l=S(e,0),a=R(l,S(e,-.6),t),s=(0,y.Pc)(t);n.push({shape:s[0],fill:a}),n.push({shape:s[1],fill:l});break}case"cube":{const a=(0,y.cZ)(t,l);n.push({shape:a[0],fill:S(e,0)}),n.push({shape:a[1],fill:S(e,-.3)}),n.push({shape:a[2],fill:S(e,-.5)});break}case"cylinder":{const a=R(S(e,0),S(e,-.6),l?M:t),s=(0,y.dt)(t,l);n.push({shape:s[0],fill:a}),n.push({shape:s[1],fill:a}),n.push({shape:s[2],fill:S(e,0)});break}case"diamond":{const l=(0,y.D)(t);n.push({shape:l[0],fill:S(e,-.3)}),n.push({shape:l[1],fill:S(e,0)}),n.push({shape:l[2],fill:S(e,-.3)}),n.push({shape:l[3],fill:S(e,-.7)});break}case"sphere":{const l=R(S(e,0),S(e,-.6));l.x1=0,l.y1=0,l.x2=.25*t,l.y2=.25*t,n.push({shape:{type:"circle",cx:0,cy:0,r:.5*t},fill:l});break}case"tetrahedron":{const l=(0,y.Nz)(t);n.push({shape:l[0],fill:S(e,-.3)}),n.push({shape:l[1],fill:S(e,0)}),n.push({shape:l[2],fill:S(e,-.6)});break}}}return n}(l,e,a)))}})),(0,c.Lx)(p).then((e=>{const l=[];return e.forEach((e=>{e.value?l.push(e.value):e.error&&r.A.getLogger("esri.symbols.support.previewSymbol3D").warn("error while building swatchInfo!",e.error)})),(0,f.f)(l,[w,k],{node:t&&t.node,scale:!1,opacity:t&&t.opacity})}))}function C(e,t){if(0===e.symbolLayers.length)return Promise.reject(new o.A("symbolPreview: renderPreviewHTML3D","No symbolLayers in the symbol."));switch(e.type){case"point-3d":return N(e,t);case"line-3d":return function(e,t){const l=e.symbolLayers,a=[],s=(0,d.$d)(e),o=$(t),r=(t&&t.maxSize?(0,u.Lz)(t.maxSize):null)||w;let c,p=0,h=0;return l.forEach(((e,t)=>{if(!e)return;if("line"!==e.type&&"path"!==e.type)return;const l=[];switch(e.type){case"line":{const n=P(e,0);if((0,i.$I)(n))break;const a=n&&n.width||0;0===t&&(c=a);const s=Math.min(o||a,r),u=0===t?s:o?s*(a/c):s,m=u>k/2?2*u:k;h=Math.max(h,u),p=Math.max(p,m),n.width=u,l.push({shape:{type:"path",path:[{command:"M",values:[0,.5*h]},{command:"L",values:[p,.5*h]}]},stroke:n});break}case"path":{const t=Math.min(o||v,r),a=S(e,0),s=S(e,-.2),i=D(e,-.4),c=i?{color:i,width:1}:{};if("quad"===e.profile){const t=e.width,o=e.height,r=(0,y.KX)(t&&o?t/o:1,0===o,0===t),i=(0,n.A)((0,n.A)({},c),{},{join:"bevel"});l.push({shape:r[0],fill:s,stroke:i}),l.push({shape:r[1],fill:s,stroke:i}),l.push({shape:r[2],fill:a,stroke:i})}else l.push({shape:y.nq.pathSymbol3DLayer[0],fill:s,stroke:c}),l.push({shape:y.nq.pathSymbol3DLayer[1],fill:a,stroke:c});h=Math.max(h,t),p=h}}a.push(l)})),Promise.resolve((0,f.f)(a,[p,h],{node:t&&t.node,scale:s,opacity:t&&t.opacity}))}(e,t);case"polygon-3d":case"mesh-3d":return async function(e,t){const l="mesh-3d"===e.type,a=e.symbolLayers,s=$(t),o=t&&t.maxSize?(0,u.Lz)(t.maxSize):null,r=s||v,c=[];let p=0,h=0,m=!1;for(let u=0;u<a.length;u++){const e=a.getItemAt(u),t=[];if(l&&"fill"!==e.type)continue;const s=y.nq.fill[0];switch(e.type){case"fill":{const n=x(e),a=Math.min(r,o||g);p=Math.max(p,a),h=Math.max(h,a),m=!0;let c=S(e,0);const u="pattern"in e?e.pattern:null,y=z(e);!l&&(0,i.Ru)(u)&&"style"===u.type&&"solid"!==u.style&&y&&(c=await A(u,y)),t.push({shape:s,fill:c,stroke:n});break}case"line":{const l=P(e,0);if((0,i.$I)(l))break;const n={stroke:l,shape:s};p=Math.max(p,v),h=Math.max(h,v),t.push(n);break}case"extrude":{const l=(0,n.A)({join:"round",width:1},P(e,-.4)),a=S(e,0),s=S(e,-.2),i=Math.min(r,o||g),c=(0,y.sU)(i);l.width=1,t.push({shape:c[0],fill:s,stroke:l}),t.push({shape:c[1],fill:s,stroke:l}),t.push({shape:c[2],fill:a,stroke:l});const u=v,m=.7*v+.5*i;p=Math.max(p,u),h=Math.max(h,m);break}case"water":{const l=(0,i.T7)(z(e)),n=L(l),a=L(l,2),s=L(l,3),c=(0,y.cP)();m=!0,t.push({shape:c[0],fill:n}),t.push({shape:c[1],fill:a}),t.push({shape:c[2],fill:s});const u=Math.min(r,o||g);p=Math.max(p,u),h=Math.max(h,u);break}}c.push(t)}return(0,f.f)(c,[p,h],{node:t&&t.node,scale:m,opacity:t&&t.opacity})}(e,t)}return Promise.reject(new o.A("symbolPreview: swatchInfo3D","symbol not supported."))}},26314:(e,t,l)=>{l.r(t),l.d(t,{fetchSymbolFromStyle:()=>f,resolveWebStyleSymbol:()=>y});var n=l(95444),a=l(93795),s=l(50076),o=l(30726),r=l(90534),i=l(44568),c=l(79453),u=l(9192),p=l(24141),h=l(8446),m=l(25158);function y(e,t,l,n){return e.name?e.styleName&&"Esri2DPointSymbolsStyle"===e.styleName?function(e,t,l){const n=h.jg.replace(/\{SymbolName\}/gi,e.name),a=(0,o.Ru)(t.portal)?t.portal:i.A.getDefault();return(0,h.yA)(n,l).then((e=>{const t=(0,h.bo)(e.data);return(0,u.rS)(t,{portal:a,url:(0,r.An)((0,r.nM)(n)),origin:"portal-item"})}))}(e,t,n):(0,h.cF)(e,t,n).then((a=>f((0,o.T7)(a),e.name,t,l,n))):Promise.reject(new s.A("symbolstyleutils:style-symbol-reference-name-missing","Missing name in style symbol reference"))}function f(e,t,l,y,f){var d,b,v;const g=e.data,w=l&&(0,o.Ru)(l.portal)?l.portal:i.A.getDefault(),k={portal:w,url:(0,r.An)(e.baseUrl),origin:"portal-item"},M=g.items.find((e=>e.name===t));if(!M){const e="The symbol name '".concat(t,"' could not be found");return Promise.reject(new s.A("symbolstyleutils:symbol-name-not-found",e,{symbolName:t}))}let x=(0,c.f)((0,h.o5)(M,y),k),L=null!==(d=null===(b=M.thumbnail)||void 0===b?void 0:b.href)&&void 0!==d?d:null;const z=M.thumbnail&&M.thumbnail.imageData;(0,a.b5)()&&(x=null!==(v=(0,a.EM)(x))&&void 0!==v?v:"",L=(0,a.EM)(L));const S={portal:w,url:(0,r.An)((0,r.nM)(x)),origin:"portal-item"};return(0,h.yA)(x,f).then((a=>{const s="cimRef"===y?(0,h.bo)(a.data):a.data,o=(0,u.rS)(s,S);if(o&&(0,n.wk)(o)){if(L){const e=(0,c.f)(L,k);o.thumbnail=new m.V({url:e})}else z&&(o.thumbnail=new m.V({url:"data:image/png;base64,".concat(z)}));e.styleUrl?o.styleOrigin=new p.A({portal:l.portal,styleUrl:e.styleUrl,name:t}):e.styleName&&(o.styleOrigin=new p.A({portal:l.portal,styleName:e.styleName,name:t}))}return o}))}}}]);
//# sourceMappingURL=357.5e7ea478.chunk.js.map