"use strict";(self.webpackChunkdata_in_design=self.webpackChunkdata_in_design||[]).push([[5764],{85504:(e,t,n)=>{n.d(t,{Al:()=>o,af:()=>s,rK:()=>c});var a=n(86560);const l="woff2",i=new Map;async function o(e){const t=c(e);let n=i.get(t);if(n)return n;const o=new FontFace(e.family,"url('".concat(a.A.fontsUrl,"/woff2/").concat(t,".").concat(l,"') format('").concat(l,"')")),s=document.fonts;return s.has(o)&&"loading"===o.status?o.loaded:(n=o.load(),i.set(t,n),s.add(o),n)}function s(e){if(!e)return"arial-unicode-ms";const t=e.toLowerCase().split(" ").join("-");switch(t){case"serif":return"noto-serif";case"sans-serif":return"arial-unicode-ms";case"monospace":return"ubuntu-mono";case"fantasy":return"cabin-sketch";case"cursive":return"redressed";default:return t}}function c(e){const t=function(e){if(!e.weight)return"";switch(e.weight.toLowerCase()){case"bold":case"bolder":return"-bold"}return""}(e)+function(e){if(!e.style)return"";switch(e.style.toLowerCase()){case"italic":case"oblique":return"-italic"}return""}(e);return s(e.family)+(t.length>0?t:"-regular")}},65764:(e,t,n)=>{n.d(t,{previewSymbol2D:()=>B});var a=n(8),l=n(69539),i=n(50076),o=n(85504),s=n(76931),c=n(87840),u=n(65709),r=n(76442);function d(e){let{r:t,g:n,b:a,a:i}=e;return i<1&&(t=Math.round(i*t+255*(1-i)),n=Math.round(i*n+255*(1-i)),a=Math.round(i*a+255*(1-i))),new l.A({r:t,g:n,b:a})}function h(e){const{r:t,g:n,b:a}=d(e);return.2126*t+.7152*n+.0722*a}const m="picture-fill",f="picture-marker",p="simple-fill",v="simple-line",w="simple-marker",y="text",g="Aa",b=u.CB.size,L=u.CB.maxSize,z=u.CB.maxOutlineSize,k=u.CB.lineWidth,M=225,x=document.createElement("canvas");function C(e,t){const n=x.getContext("2d"),a=[];return t&&(t.weight&&a.push(t.weight),t.size&&a.push(t.size+"px"),t.family&&a.push(t.family)),n.font=a.join(" "),n.measureText(e).width}const A=7.2/2.54,F=72/2.54;function S(e){if(0===e.length)return 0;if(e.length>2){const t=(0,s.PN)(1),n=parseFloat(e);switch(e.slice(-2)){case"px":return n;case"pt":return n*t;case"in":return 72*n*t;case"pc":return 12*n*t;case"mm":return n*A*t;case"cm":return n*F*t}}return parseFloat(e)}function j(e){const t=null===e||void 0===e?void 0:e.size;return{width:null!=t&&"object"==typeof t&&"width"in t?(0,s.Lz)(t.width):null,height:null!=t&&"object"==typeof t&&"height"in t?(0,s.Lz)(t.height):null}}function q(e,t){return e>t?"dark":"light"}async function B(e,t){const{shapeDescriptor:n,size:l,renderOptions:d}=function(e,t){var n,l;const i="number"==typeof(null===t||void 0===t?void 0:t.size)?null===t||void 0===t?void 0:t.size:null,o=null!=i?(0,s.Lz)(i):null,r=null!=(null===t||void 0===t?void 0:t.maxSize)?(0,s.Lz)(t.maxSize):null,d=null!=(null===t||void 0===t?void 0:t.rotation)?t.rotation:"angle"in e?e.angle:null,h=(0,c.eH)(e);let M=(0,c.$4)(e);"dark"!==E(e,245)||(null===t||void 0===t?void 0:t.ignoreWhiteSymbols)||(M=(0,a.A)((0,a.A)({width:.75},M),{},{color:"#bdc3c7"}));const x={shape:null,fill:h,stroke:M,offset:[0,0]};(null===(n=M)||void 0===n?void 0:n.width)&&(M.width=Math.min(M.width,z));const A=(null===(l=M)||void 0===l?void 0:l.width)||0;let F=null!=(null===t||void 0===t?void 0:t.size)&&(null==(null===t||void 0===t?void 0:t.scale)||(null===t||void 0===t?void 0:t.scale)),q=0,B=0,D=!1;switch(e.type){case w:{const n=e.style,{width:a,height:l}=j(t),i=a===l&&null!=a?a:null!=o?o:Math.min((0,s.Lz)(e.size),r||L);switch(q=i,B=i,n){case"circle":x.shape={type:"circle",cx:0,cy:0,r:.5*i},F||(q+=A,B+=A);break;case"cross":x.shape={type:"path",path:[{command:"M",values:[0,.5*B]},{command:"L",values:[q,.5*B]},{command:"M",values:[.5*q,0]},{command:"L",values:[.5*q,B]}]};break;case"diamond":x.shape={type:"path",path:[{command:"M",values:[0,.5*B]},{command:"L",values:[.5*q,0]},{command:"L",values:[q,.5*B]},{command:"L",values:[.5*q,B]},{command:"Z",values:[]}]},F||(q+=A,B+=A);break;case"square":x.shape={type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[q,0]},{command:"L",values:[q,B]},{command:"L",values:[0,B]},{command:"Z",values:[]}]},F||(q+=A,B+=A),d&&(D=!0);break;case"triangle":x.shape={type:"path",path:[{command:"M",values:[.5*q,0]},{command:"L",values:[q,B]},{command:"L",values:[0,B]},{command:"Z",values:[]}]},F||(q+=A,B+=A),d&&(D=!0);break;case"x":x.shape={type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[q,B]},{command:"M",values:[q,0]},{command:"L",values:[0,B]}]},d&&(D=!0);break;case"path":x.shape={type:"path",path:e.path||""},F||(q+=A,B+=A),d&&(D=!0),F=!0}break}case v:{var Z;const{width:e,height:n}=j(t),a=null!=n?n:null!=o?o:A,l=null!=e?e:k;M&&(M.width=a),q=l,B=a;const i=(null===x||void 0===x||null===(Z=x.stroke)||void 0===Z?void 0:Z.cap)||"butt",s="round"===i;F=!0,x.stroke&&(x.stroke.cap="butt"===i?"square":i),x.shape={type:"path",path:[{command:"M",values:[s?a/2:0,B/2]},{command:"L",values:[s?q-a/2:q,B/2]}]};break}case m:case p:{const e="object"==typeof(null===t||void 0===t?void 0:t.symbolConfig)&&(null===t||void 0===t?void 0:t.symbolConfig.isSquareFill),{width:n,height:a}=j(t);q=!e&&n!==a||null==n?null!=o?o:b:n,B=!e&&n!==a||null==a?q:a,F||(q+=A,B+=A),F=!0,x.shape=e?{type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[q,0]},{command:"L",values:[q,B]},{command:"L",values:[0,B]},{command:"L",values:[0,0]},{command:"Z",values:[]}]}:u.nq.fill[0];break}case f:{const n=Math.min((0,s.Lz)(e.width),r||L),a=Math.min((0,s.Lz)(e.height),r||L),{width:l,height:i}=j(t),c=l===i&&null!=l?l:null!=o?o:Math.max(n,a),u=n/a;q=u<=1?Math.ceil(c*u):c,B=u<=1?c:Math.ceil(c/u),x.shape={type:"image",x:-Math.round(q/2),y:-Math.round(B/2),width:q,height:B,src:e.url||""},d&&(D=!0);break}case y:{const n=e,a=(null===t||void 0===t?void 0:t.overrideText)||n.text||g,l=n.font,{width:i,height:c}=j(t),u=null!=c?c:null!=o?o:Math.min((0,s.Lz)(l.size),r||L),d=C(a,{weight:l.weight,size:u,family:l.family}),h=/[\uE600-\uE6FF]/.test(a);q=null!==i&&void 0!==i?i:h?u:d,B=u;let m=.25*S((l?u:0).toString());h&&(m+=5),x.shape={type:"text",text:a,x:n.xoffset||0,y:n.yoffset||m,align:"middle",alignBaseline:n.verticalAlignment,decoration:l&&l.decoration,rotated:n.rotated,kerning:n.kerning},x.font=l&&{size:u,style:l.style,decoration:l.decoration,weight:l.weight,family:l.family};break}}return{shapeDescriptor:x,size:[q,B],renderOptions:{node:null===t||void 0===t?void 0:t.node,scale:F,opacity:null===t||void 0===t?void 0:t.opacity,rotation:d,useRotationSize:D,effectView:null===t||void 0===t?void 0:t.effectView}}}(e,t);if(!n.shape)throw new i.A("symbolPreview: renderPreviewHTML2D","symbol not supported.");await async function(e,t){const n=t.fill,a=e.color;if("pattern"===(null===n||void 0===n?void 0:n.type)&&a&&e.type!==m){const e=await(0,c.rc)(n.src,a.toCss(!0));n.src=e,t.fill=n}}(e,n),await async function(e,t,n,a){if(!("font"in e)||!e.font||"text"!==t.shape.type)return;try{await(0,o.Al)(e.font)}catch(s){}const{width:l}=j(a),i=/[\uE600-\uE6FF]/.test(t.shape.text);null!=l||i||(n[0]=C(t.shape.text,{weight:t.font.weight,size:t.font.size,family:t.font.family}))}(e,n,l,t);const h=[[n]];if("object"==typeof(null===t||void 0===t?void 0:t.symbolConfig)&&null!==t&&void 0!==t&&t.symbolConfig.applyColorModulation){const e=.6*l[0];h.unshift([(0,a.A)((0,a.A)({},n),{},{offset:[-e,0],fill:(0,u.QC)(n.fill,-.3)})]),h.push([(0,a.A)((0,a.A)({},n),{},{offset:[e,0],fill:(0,u.QC)(n.fill,.3)})]),l[0]+=2*e,d.scale=!1}return(0,r.f)(h,l,d)}function E(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:M;const n=(0,c.eH)(e),a=(0,c.$4)(e),i=!n||"type"in n?null:new l.A(n),o=null!==a&&void 0!==a&&a.color?new l.A(null===a||void 0===a?void 0:a.color):null,s=i?q(h(i),t):null,u=o?q(h(o),t):null;return u?s?s===u?s:t>=M?"light":"dark":u:s}}}]);
//# sourceMappingURL=5764.78fc5436.chunk.js.map