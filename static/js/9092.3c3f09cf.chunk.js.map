{"version":3,"file":"static/js/9092.3c3f09cf.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/2d/layers/imagery/ImageryView2D.js","../node_modules/@arcgis/core/views/2d/engine/imagery/RasterVFContainer.js","../node_modules/@arcgis/core/views/2d/layers/imagery/ImageryVFStrategy.js","../node_modules/@arcgis/core/views/2d/layers/imagery/VectorFieldView2D.js","../node_modules/@arcgis/core/views/layers/ImageryLayerView.js","../node_modules/@arcgis/core/views/2d/layers/ImageryLayerView2D.js","../node_modules/@arcgis/core/views/2d/layers/graphics/HighlightGraphicContainer.js","../node_modules/@arcgis/core/views/2d/viewStateUtils.js","../node_modules/@arcgis/core/views/2d/layers/support/ExportStrategy.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../Graphic.js\";import r from\"../../../../core/Accessor.js\";import i from\"../../../../core/Logger.js\";import{isSome as s}from\"../../../../core/maybe.js\";import{isAbortError as a}from\"../../../../core/promiseUtils.js\";import{property as o}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as p}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{mosaicPixelData as n}from\"../../../../layers/support/rasterFunctions/pixelUtils.js\";import{BitmapContainer as l}from\"../../engine/BitmapContainer.js\";import{Container as c}from\"../../engine/Container.js\";import h from\"../../engine/ImageryBitmapSource.js\";import m from\"../support/ExportStrategy.js\";let d=class extends r{constructor(){super(...arguments),this.attached=!1,this.container=new c,this.updateRequested=!1,this.type=\"imagery\",this._bitmapView=new l}destroy(){this.attached&&(this.detach(),this.attached=!1),this.updateRequested=!1}get updating(){return!this.attached||this.isUpdating()}update(e){this.strategy.update(e).catch((e=>{a(e)||i.getLogger(this.declaredClass).error(e)}))}hitTest(e){return new t({attributes:{},geometry:e.clone(),layer:this.layer})}attach(){this.container.addChild(this._bitmapView);const e=this.layer.version>=10,t=this.layer.version>=10.1?this.layer.imageMaxHeight:2048,r=this.layer.version>=10.1?this.layer.imageMaxWidth:2048;this.strategy=new m({container:this._bitmapView,imageNormalizationSupported:e,imageMaxHeight:t,imageMaxWidth:r,fetchSource:this._fetchImage.bind(this),requestUpdate:()=>this.requestUpdate()})}detach(){this.strategy.destroy(),this._bitmapView.removeAllChildren(),this.container.removeAllChildren(),this.updateRequested=!1}redraw(){this.strategy.updateExports((async e=>{if(e.source instanceof HTMLImageElement)return;const t=await this.layer.applyRenderer({extent:e.source.extent,pixelBlock:e.source.originalPixelBlock??e.source.pixelBlock}),r=e.source;r.filter=e=>this.layer.pixelFilter?this.layer.applyFilter(e):{...t,extent:r.extent}})).catch((e=>{a(e)||i.getLogger(this.declaredClass).error(e)}))}requestUpdate(){this.updateRequested||(this.updateRequested=!0,this.view.requestUpdate())}isUpdating(){return this.strategy.updating||this.updateRequested}getPixelData(){if(this.updating)return null;const e=this.strategy.bitmaps;if(1===e.length&&e[0].source)return{extent:e[0].source.extent,pixelBlock:e[0].source.originalPixelBlock};if(e.length>1){const t=this.view.extent,r=e.map((e=>e.source)).filter((e=>e.extent&&e.extent.intersects(t))).map((e=>({extent:e.extent,pixelBlock:e.originalPixelBlock}))),i=n(r,t);return s(i)?{extent:i.extent,pixelBlock:i.pixelBlock}:null}return null}_fetchImage(e,t,r,i){return(i=i||{}).timeExtent=this.timeExtent,i.requestAsImageElement=!0,this.layer.fetchImage(e,t,r,i).then((e=>e.imageOrCanvasElement?e.imageOrCanvasElement:this.layer.applyRenderer(e.pixelData,{signal:i.signal}).then((t=>{const r=new h(t.pixelBlock,t.extent.clone(),e.pixelData.pixelBlock);return r.filter=e=>this.layer.applyFilter(e),r}))))}};e([o()],d.prototype,\"attached\",void 0),e([o()],d.prototype,\"container\",void 0),e([o()],d.prototype,\"layer\",void 0),e([o()],d.prototype,\"strategy\",void 0),e([o()],d.prototype,\"timeExtent\",void 0),e([o()],d.prototype,\"view\",void 0),e([o()],d.prototype,\"updateRequested\",void 0),e([o()],d.prototype,\"updating\",null),e([o()],d.prototype,\"type\",void 0),d=e([p(\"esri.views.2d.layers.imagery.ImageryView2D\")],d);const u=d;export{u as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport e from\"./BrushVectorField.js\";import{WGLDrawPhase as r}from\"../webgl/enums.js\";import s from\"../webgl/WGLContainer.js\";class t extends s{constructor(){super(...arguments),this.symbolTypes=[\"triangle\"]}get requiresDedicatedFBO(){return!1}prepareRenderPasses(s){const t=s.registerRenderPass({name:\"imagery (vf)\",brushes:[e],target:()=>this.children,drawPhase:r.MAP});return[...super.prepareRenderPasses(s),t]}doRender(e){this.visible&&e.drawPhase===r.MAP&&this.symbolTypes.forEach((r=>{e.renderPass=r,super.doRender(e)}))}}export{t as RasterVFContainer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import r from\"../../../../core/Logger.js\";import{isNone as i}from\"../../../../core/maybe.js\";import{debounce as s,isAbortError as o}from\"../../../../core/promiseUtils.js\";import{property as a}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as n}from\"../../../../core/accessorSupport/decorators/subclass.js\";import l from\"../../../../geometry/Extent.js\";import{RasterVFDisplayObject as c}from\"../../engine/imagery/RasterVFDisplayObject.js\";let p=class extends t{constructor(e){super(e),this.update=s(((e,t)=>this._update(e,t).catch((e=>{o(e)||r.getLogger(this.declaredClass).error(e)}))))}get updating(){return!!this._loading}redraw(e){if(!this.container.children.length)return;const t=this.container.children[0];t.symbolizerParameters=e,t.invalidateVAO(),this.container.symbolTypes=\"wind_speed\"===e.style?[\"scalar\",\"triangle\"]:\"simple_scalar\"===e.style?[\"scalar\"]:[\"triangle\"],this.container.requestRender()}async _update(e,t,r){if(!e.stationary)return;const{extent:i,spatialReference:s}=e.state,o=new l({xmin:i.xmin,ymin:i.ymin,xmax:i.xmax,ymax:i.ymax,spatialReference:s}),[a,n]=e.state.size;this._loading=this.fetchPixels(o,a,n,r);const c=await this._loading;this._addToDisplay(c,t,e.state),this._loading=null}_addToDisplay(e,t,r){if(i(e.pixelBlock))return this.container.children.forEach((e=>e.destroy())),void this.container.removeAllChildren();const{extent:s,pixelBlock:o}=e,a=new c(o);a.offset=[0,0],a.symbolizerParameters=t,a.rawPixelData=e,a.invalidateVAO(),a.x=s.xmin,a.y=s.ymax,a.pixelRatio=r.pixelRatio,a.rotation=r.rotation,a.resolution=r.resolution,a.width=o.width*t.symbolTileSize,a.height=o.height*t.symbolTileSize,this.container.children.forEach((e=>e.destroy())),this.container.removeAllChildren(),this.container.symbolTypes=\"wind_speed\"===t.style?[\"scalar\",\"triangle\"]:\"simple_scalar\"===t.style?[\"scalar\"]:[\"triangle\"],this.container.addChild(a)}};e([a()],p.prototype,\"fetchPixels\",void 0),e([a()],p.prototype,\"container\",void 0),e([a()],p.prototype,\"_loading\",void 0),e([a()],p.prototype,\"updating\",null),p=e([n(\"esri.views.2d.layers.imagery.ImageryVFStrategy\")],p);const m=p;export{m as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../Graphic.js\";import r from\"../../../../request.js\";import{HandleOwner as i}from\"../../../../core/HandleOwner.js\";import{isSome as s,isNone as a,unwrap as o}from\"../../../../core/maybe.js\";import{watch as n,syncAndInitial as l}from\"../../../../core/reactiveUtils.js\";import{property as c}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as m}from\"../../../../core/accessorSupport/decorators/subclass.js\";import p from\"../../../../geometry/Extent.js\";import{projectExtent as h}from\"../../../../layers/support/rasterFunctions/rasterProjectionHelper.js\";import{snapImageToSymbolTile as y,convertVectorFieldData as d}from\"../../../../layers/support/rasterFunctions/vectorFieldUtils.js\";import{RasterVFContainer as u}from\"../../engine/imagery/RasterVFContainer.js\";import x from\"./ImageryVFStrategy.js\";let f=class extends i{constructor(){super(...arguments),this.attached=!1,this.container=new u,this.type=\"imageryVF\",this._dataParameters={exportParametersVersion:0,bbox:\"\",symbolTileSize:0,time:\"\"},this._fetchpixels=async(e,t,r,i)=>{const n=await this._projectFullExtentPromise,{symbolTileSize:l}=this.layer.renderer,{extent:c,width:m,height:p}=y(e,t,r,l,n);if(s(n)&&!n.intersects(e))return{extent:c,pixelBlock:null};const h={bbox:`${c.xmin}, ${c.ymin}, ${c.xmax}, ${c.ymax}`,exportParametersVersion:this.layer.exportImageServiceParameters.version,symbolTileSize:l,time:JSON.stringify(this.timeExtent||\"\")};if(this._canReuseVectorFieldData(h)){const e=this.getPixelData();if(s(e)){if(`${e.extent.xmin}, ${e.extent.ymin}, ${e.extent.xmax}, ${e.extent.ymax}`===h.bbox)return e}}const{pixelData:u}=await this.layer.fetchImage(c,m,p,{timeExtent:this.timeExtent,requestAsImageElement:!1,signal:i});if(this._dataParameters=h,a(u.pixelBlock))return{extent:c,pixelBlock:null};return{extent:c,pixelBlock:\"vector-uv\"===this.layer.rasterInfo.dataType?o(d(u.pixelBlock,\"vector-uv\")):u.pixelBlock}}}get updating(){return!this.attached||this._strategy.updating}attach(){this._projectFullExtentPromise=this._getProjectedFullExtent(this.view.spatialReference),this._strategy=new x({container:this.container,fetchPixels:this._fetchpixels}),this.handles.add(n((()=>this.layer.renderer),(e=>this._updateSymbolizerParams(e)),l),\"vector-field-view-update\")}detach(){this._strategy.destroy(),this.container.children.forEach((e=>e.destroy())),this.container.removeAllChildren(),this.handles.remove(\"vector-field-view-update\"),this._strategy=this.container=this._projectFullExtentPromise=null}getPixelData(){if(this.updating||!this.container.children.length)return null;const{extent:e,pixelBlock:t}=this.container.children[0].rawPixelData;return{extent:e,pixelBlock:t}}hitTest(e){return new t({attributes:{},geometry:e.clone(),layer:this.layer})}update(e){this._strategy.update(e,this._symbolizerParams)}redraw(){this._updateSymbolizerParams(this.layer.renderer),this._strategy.redraw(this._symbolizerParams)}_canReuseVectorFieldData(e){const t=this._dataParameters.exportParametersVersion===e.exportParametersVersion,r=this._dataParameters.time===e.time,i=this._dataParameters.symbolTileSize===e.symbolTileSize,s=this._dataParameters.bbox===e.bbox;return t&&r&&i&&s}async _getProjectedFullExtent(e){try{return await h(this.layer.fullExtent,e)}catch(t){try{const t=(await r(this.layer.url,{query:{option:\"footprints\",outSR:e.wkid||JSON.stringify(e.toJSON()),f:\"json\"}})).data.featureCollection.layers[0].layerDefinition.extent;return t?p.fromJSON(t):null}catch{return null}}}_updateSymbolizerParams(e){\"vector-field\"===e.type&&(this._symbolizerParams=this.layer.symbolizer.generateWebGLParameters({pixelBlock:null}))}};e([c()],f.prototype,\"attached\",void 0),e([c()],f.prototype,\"container\",void 0),e([c()],f.prototype,\"layer\",void 0),e([c()],f.prototype,\"timeExtent\",void 0),e([c()],f.prototype,\"type\",void 0),e([c()],f.prototype,\"view\",void 0),e([c()],f.prototype,\"updating\",null),f=e([m(\"esri.views.2d.layers.imagery.VectorFieldView2D\")],f);const g=f;export{g as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import r from\"../../core/Error.js\";import{isNone as t,isSome as o}from\"../../core/maybe.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as p}from\"../../core/accessorSupport/decorators/subclass.js\";import i from\"../../geometry/Point.js\";import{combinedViewLayerTimeExtentProperty as a}from\"../../layers/support/commonProperties.js\";import n from\"../../rest/support/Query.js\";import{getFetchPopupTemplate as u}from\"./support/popupUtils.js\";const m=m=>{let c=class extends m{constructor(){super(...arguments),this.view=null}async fetchPopupFeatures(e,s){const{layer:p}=this;if(!e)throw new r(\"imagerylayerview:fetchPopupFeatures\",\"Nothing to fetch without area\",{layer:p});const{popupEnabled:a}=p,m=u(p,s);if(!a||t(m))throw new r(\"imagerylayerview:fetchPopupFeatures\",\"Missing required popupTemplate or popupEnabled\",{popupEnabled:a,popupTemplate:m});const c=await m.getRequiredFields(),l=new n;l.timeExtent=this.timeExtent,l.geometry=e,l.outFields=c,l.outSpatialReference=e.spatialReference;const y=this.view.resolution,w=\"2d\"===this.view.type?new i(y,y,this.view.spatialReference):new i(.5*y,.5*y,this.view.spatialReference),{returnTopmostRaster:d,showNoDataRecords:h}=m.layerOptions||{returnTopmostRaster:!0,showNoDataRecords:!1},f={returnDomainValues:!0,returnTopmostRaster:d,pixelSize:w,showNoDataRecords:h,signal:o(s)?s.signal:null};return p.queryVisibleRasters(l,f).then((e=>e))}canResume(){return!!super.canResume()&&!this.timeExtent?.isEmpty}};return e([s()],c.prototype,\"layer\",void 0),e([s()],c.prototype,\"suspended\",void 0),e([s(a)],c.prototype,\"timeExtent\",void 0),e([s()],c.prototype,\"view\",void 0),c=e([p(\"esri.views.layers.ImageryLayerView\")],c),c};export{m as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import i from\"../../../Graphic.js\";import t from\"../../../core/Collection.js\";import{watch as r,syncAndInitial as s,sync as a}from\"../../../core/reactiveUtils.js\";import{property as h}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import{GraphicsCollection as n}from\"../../../support/GraphicsCollection.js\";import l from\"../engine/flow/FlowView2D.js\";import{LayerView2DMixin as c}from\"./LayerView2D.js\";import w from\"./graphics/GraphicsView2D.js\";import u from\"./graphics/HighlightGraphicContainer.js\";import p from\"./imagery/ImageryView2D.js\";import d from\"./imagery/VectorFieldView2D.js\";import m from\"../../layers/ImageryLayerView.js\";import v from\"../../layers/LayerView.js\";import y from\"../../layers/RefreshableLayerView.js\";let g=class extends(m(y(c(v)))){constructor(){super(...arguments),this._exportImageVersion=-1,this._highlightGraphics=new n,this.subview=null}get pixelData(){return this.updating?null:\"getPixelData\"in this.subview?this.subview.getPixelData():null}async hitTest(e,i){return this.subview?[{type:\"graphic\",graphic:this.subview.hitTest(e),layer:this.layer,mapPoint:e}]:null}update(e){this.subview?.update(e)}attach(){this.layer.increaseRasterJobHandlerUsage(),this._setSubView(),this.view&&(this._highlightView=new w({view:this.view,graphics:this._highlightGraphics,requestUpdateCallback:()=>this.requestUpdate(),container:new u(this.view.featuresTilingScheme)}),this.container.addChild(this._highlightView.container)),this.handles.add([r((()=>this.layer.blendMode??\"normal\"),(e=>this.subview.container.blendMode=e),s),r((()=>this.layer.effect??null),(e=>this.subview.container.effect=e),s),r((()=>this.layer.exportImageServiceParameters.version),(e=>{e&&this._exportImageVersion!==e&&(this._exportImageVersion=e,this.requestUpdate())}),a),r((()=>this.timeExtent),(e=>{this.subview.timeExtent=e,\"redraw\"in this.subview?this.requestUpdate():this.subview.redrawOrRefetch()}),a),this.layer.on(\"redraw\",(()=>{\"redraw\"in this.subview?this.subview.redraw():this.subview.redrawOrRefetch()})),r((()=>this.layer.renderer),(()=>this._setSubView()))],\"imagerylayerview-update\")}detach(){this.layer.decreaseRasterJobHandlerUsage(),this.container.removeAllChildren(),this._detachSubview(this.subview),this.subview?.destroy(),this.handles.remove(\"imagerylayerview-update\"),this.subview=null,this._highlightView?.destroy(),this._exportImageVersion=-1}moveStart(){}viewChange(){}moveEnd(){this.requestUpdate()}highlight(e,r){if(!((Array.isArray(e)?e[0]:t.isCollection(e)?e.getItemAt(0):e)instanceof i))return{remove:()=>{}};let s=[];return Array.isArray(e)||t.isCollection(e)?s=e.map((e=>e.clone())):e instanceof i&&(s=[e.clone()]),this._highlightGraphics.addMany(s),{remove:()=>{this._highlightGraphics.removeMany(s)}}}async doRefresh(){this.requestUpdate()}isUpdating(){return!this.subview||this.subview.updating}_setSubView(){if(!this.view)return;const e=this.layer.renderer?.type;let i=\"imagery\";if(\"vector-field\"===e?i=\"imageryVF\":\"flow\"===e&&(i=\"flow\"),this.subview){const{type:e}=this.subview;if(e===i)return this._attachSubview(this.subview),void(\"flow\"===e?this.subview.redrawOrRefetch():\"imagery\"===e&&\"lerc\"===this.layer.format?this.subview.redraw():this.requestUpdate());this._detachSubview(this.subview),this.subview?.destroy()}this.subview=\"imagery\"===i?new p({layer:this.layer,view:this.view,timeExtent:this.timeExtent}):\"imageryVF\"===i?new d({layer:this.layer,view:this.view,timeExtent:this.timeExtent}):new l({layer:this.layer,layerView:this}),this._attachSubview(this.subview),this.requestUpdate()}_attachSubview(e){e&&!e.attached&&(e.attach(),e.attached=!0,this.container.addChildAt(e.container,0),e.container.blendMode=this.layer.blendMode,e.container.effect=this.layer.effect)}_detachSubview(e){e?.attached&&(this.container.removeChild(e.container),e.detach(),e.attached=!1)}};e([h()],g.prototype,\"pixelData\",null),e([h()],g.prototype,\"subview\",void 0),g=e([o(\"esri.views.2d.layers.ImageryLayerView2D\")],g);const b=g;export{b as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import\"../../../../core/Logger.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/Error.js\";import\"../../../../core/has.js\";import{subclass as r}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{WGLDrawPhase as s}from\"../../engine/webgl/enums.js\";import t from\"./BaseGraphicContainer.js\";import{ClearBufferBit as o}from\"../../../webgl/enums.js\";let i=class extends t{doRender(e){e.drawPhase===s.HIGHLIGHT&&super.doRender(e)}renderChildren(e){if(this.attributeView.update(),!this.children.some((e=>e.hasData)))return;this.attributeView.bindTextures(e.context),super.renderChildren(e);const{painter:r}=e,s=r.effects.highlight;s.bind(e),e.context.setColorMask(!0,!0,!0,!0),e.context.clear(o.COLOR_BUFFER_BIT),this._renderChildren(e,s.defines.concat([\"highlightAll\"])),s.draw(e),s.unbind()}};i=e([r(\"esri.views.2d.layers.support.HighlightGraphicContainer\")],i);const n=i;export{n as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nconst t=Math.PI/180;function n(n){return n*t}function o(t,o){const a=n(o.rotation),r=Math.abs(Math.cos(a)),s=Math.abs(Math.sin(a)),[u,c]=o.size;return t[0]=Math.round(c*s+u*r),t[1]=Math.round(c*r+u*s),t}function a(t,n,o,a){const[r,s]=n,[u,c]=a,h=.5*o;return t[0]=r-h*u,t[1]=s-h*c,t[2]=r+h*u,t[3]=s+h*c,t}export{a as getBBox,o as getOuterSize};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../core/Accessor.js\";import\"../../../../core/has.js\";import{debounce as i,throwIfAborted as o,throwIfAbortError as r,eachAlways as s}from\"../../../../core/promiseUtils.js\";import{property as a}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as n}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{create as p,toExtent as m}from\"../../../../geometry/support/aaBoundingRect.js\";import{getInfo as l}from\"../../../../geometry/support/spatialReferenceUtils.js\";import h from\"../../../../layers/support/TileInfo.js\";import{getOuterSize as d,getBBox as c}from\"../../viewStateUtils.js\";import{Bitmap as u}from\"../../engine/Bitmap.js\";import g from\"../../tiling/TileInfoView.js\";import f from\"../../tiling/TileKey.js\";const y=p(),x=[0,0],S=new f(0,0,0,0),_={container:null,fetchSource:null,requestUpdate:null,imageMaxWidth:2048,imageMaxHeight:2048,imageRotationSupported:!1,imageNormalizationSupported:!1,hidpi:!1};let w=class extends e{constructor(t){super(t),this._imagePromise=null,this.bitmaps=[],this.hidpi=_.hidpi,this.imageMaxWidth=_.imageMaxWidth,this.imageMaxHeight=_.imageMaxHeight,this.imageRotationSupported=_.imageRotationSupported,this.imageNormalizationSupported=_.imageNormalizationSupported,this.update=i((async(t,e)=>{if(o(e),!t.stationary||this.destroyed)return;const i=t.state,s=l(i.spatialReference),a=this.hidpi?t.pixelRatio:1,n=this.imageNormalizationSupported&&i.worldScreenWidth&&i.worldScreenWidth<i.size[0];n?(x[0]=i.worldScreenWidth,x[1]=i.size[1]):this.imageRotationSupported?(x[0]=i.size[0],x[1]=i.size[1]):d(x,i);const p=Math.floor(x[0]*a)>this.imageMaxWidth||Math.floor(x[1]*a)>this.imageMaxHeight,m=s&&(i.extent.xmin<s.valid[0]||i.extent.xmax>s.valid[1]),h=!this.imageNormalizationSupported&&m,c=!p&&!h,u=this.imageRotationSupported?i.rotation:0,g=this.container.children.slice();if(c){const t=n?i.paddedViewState.center:i.center;this._imagePromise&&console.error(\"Image promise was not defined!\"),this._imagePromise=this._singleExport(i,x,t,i.resolution,u,a,e)}else{let t=Math.min(this.imageMaxWidth,this.imageMaxHeight);h&&(t=Math.min(i.worldScreenWidth,t)),this._imagePromise=this._tiledExport(i,t,a,e)}try{const t=await this._imagePromise;o(e);const i=[];if(this._imagePromise=null,this.destroyed)return;this.bitmaps=t??[];for(const e of g)t.includes(e)||i.push(e.fadeOut().then((()=>{e.remove(),e.destroy()})));for(const e of t)i.push(e.fadeIn());await Promise.all(i)}catch(f){this._imagePromise=null,r(f)}}),5e3),this.updateExports=i((async t=>{const e=[];for(const i of this.container.children){if(!i.visible||!i.stage)return;e.push(t(i).then((()=>{i.invalidateTexture(),i.requestRender()})))}this._imagePromise=s(e).then((()=>this._imagePromise=null)),await this._imagePromise}))}destroy(){this.bitmaps.forEach((t=>t.destroy())),this.bitmaps=[]}get updating(){return!this.destroyed&&null!==this._imagePromise}async _export(t,e,i,r,s,a){const n=await this.fetchSource(t,Math.floor(e*s),Math.floor(i*s),{rotation:r,pixelRatio:s,signal:a});o(a);const p=new u(null,{immutable:!0,requestRenderOnSourceChangedEnabled:!0});return p.x=t.xmin,p.y=t.ymax,p.resolution=t.width/e,p.rotation=r,p.pixelRatio=s,p.opacity=0,this.container.addChild(p),await p.setSourceAsync(n,a),o(a),p}async _singleExport(t,e,i,o,r,s,a){c(y,i,o,e);const n=m(y,t.spatialReference);return[await this._export(n,e[0],e[1],r,s,a)]}_tiledExport(t,e,i,o){const r=h.create({size:e,spatialReference:t.spatialReference,scales:[t.scale]}),s=new g(r),a=s.getTileCoverage(t);if(!a)return null;const n=[];return a.forEach(((r,a,p,l)=>{S.set(r,a,p,0),s.getTileBounds(y,S);const h=m(y,t.spatialReference);n.push(this._export(h,e,e,0,i,o).then((t=>(0!==l&&(S.set(r,a,p,l),s.getTileBounds(y,S),t.x=y[0],t.y=y[3]),t))))})),Promise.all(n)}};t([a()],w.prototype,\"_imagePromise\",void 0),t([a()],w.prototype,\"bitmaps\",void 0),t([a()],w.prototype,\"container\",void 0),t([a()],w.prototype,\"fetchSource\",void 0),t([a()],w.prototype,\"hidpi\",void 0),t([a()],w.prototype,\"imageMaxWidth\",void 0),t([a()],w.prototype,\"imageMaxHeight\",void 0),t([a()],w.prototype,\"imageRotationSupported\",void 0),t([a()],w.prototype,\"imageNormalizationSupported\",void 0),t([a()],w.prototype,\"requestUpdate\",void 0),t([a()],w.prototype,\"updating\",null),w=t([n(\"esri.views.2d.layers.support.ExportStrategy\")],w);const v=w;export{v as default};\n"],"names":["d","r","constructor","super","arguments","this","attached","container","c","updateRequested","type","_bitmapView","l","destroy","detach","updating","isUpdating","update","e","strategy","catch","a","i","getLogger","declaredClass","error","hitTest","t","attributes","geometry","clone","layer","attach","addChild","version","imageMaxHeight","imageMaxWidth","m","imageNormalizationSupported","fetchSource","_fetchImage","bind","requestUpdate","removeAllChildren","redraw","updateExports","async","_e$source$originalPix","source","HTMLImageElement","applyRenderer","extent","pixelBlock","originalPixelBlock","filter","pixelFilter","applyFilter","_objectSpread","view","getPixelData","bitmaps","length","map","intersects","n","s","timeExtent","requestAsImageElement","fetchImage","then","imageOrCanvasElement","pixelData","signal","h","o","prototype","p","u","symbolTypes","requiresDedicatedFBO","prepareRenderPasses","registerRenderPass","name","brushes","target","children","drawPhase","MAP","doRender","visible","forEach","renderPass","_update","_loading","symbolizerParameters","invalidateVAO","style","requestRender","stationary","spatialReference","state","xmin","ymin","xmax","ymax","size","fetchPixels","_addToDisplay","offset","rawPixelData","x","y","pixelRatio","rotation","resolution","width","symbolTileSize","height","f","_dataParameters","exportParametersVersion","bbox","time","_fetchpixels","_projectFullExtentPromise","renderer","concat","exportImageServiceParameters","JSON","stringify","_canReuseVectorFieldData","rasterInfo","dataType","_strategy","_getProjectedFullExtent","handles","add","_updateSymbolizerParams","remove","_symbolizerParams","fullExtent","url","query","option","outSR","wkid","toJSON","data","featureCollection","layers","layerDefinition","fromJSON","_unused","symbolizer","generateWebGLParameters","g","fetchPopupFeatures","popupEnabled","popupTemplate","getRequiredFields","outFields","outSpatialReference","w","returnTopmostRaster","showNoDataRecords","layerOptions","returnDomainValues","pixelSize","queryVisibleRasters","canResume","_this$timeExtent","isEmpty","v","_exportImageVersion","_highlightGraphics","subview","graphic","mapPoint","_this$subview","increaseRasterJobHandlerUsage","_setSubView","_highlightView","graphics","requestUpdateCallback","featuresTilingScheme","_this$layer$blendMode","blendMode","_this$layer$effect","effect","redrawOrRefetch","on","_this$subview2","_this$_highlightView","decreaseRasterJobHandlerUsage","_detachSubview","moveStart","viewChange","moveEnd","highlight","Array","isArray","isCollection","getItemAt","addMany","removeMany","doRefresh","_this$layer$renderer","_this$subview3","_attachSubview","format","layerView","addChildAt","removeChild","b","HIGHLIGHT","renderChildren","attributeView","some","hasData","bindTextures","context","painter","effects","setColorMask","clear","COLOR_BUFFER_BIT","_renderChildren","defines","draw","unbind","Math","PI","abs","cos","sin","round","S","_","_imagePromise","hidpi","imageRotationSupported","destroyed","worldScreenWidth","floor","valid","slice","paddedViewState","center","console","_singleExport","min","_tiledExport","includes","push","fadeOut","fadeIn","Promise","all","stage","invalidateTexture","_export","immutable","requestRenderOnSourceChangedEnabled","opacity","setSourceAsync","create","scales","scale","getTileCoverage","set","getTileBounds"],"sourceRoot":""}