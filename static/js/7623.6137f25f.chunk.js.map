{"version":3,"file":"static/js/7623.6137f25f.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/2d/layers/BaseDynamicLayerView2D.js","../node_modules/@arcgis/core/views/2d/viewStateUtils.js","../node_modules/@arcgis/core/views/2d/layers/support/ExportStrategy.js","../node_modules/@arcgis/core/views/layers/RefreshableLayerView.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import e from\"../../../core/Logger.js\";import{isAbortError as r}from\"../../../core/promiseUtils.js\";import{property as s}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";import{BitmapContainer as a}from\"../engine/BitmapContainer.js\";import{LayerView2DMixin as o}from\"./LayerView2D.js\";import p from\"./support/ExportStrategy.js\";import n from\"../../layers/LayerView.js\";import h from\"../../layers/RefreshableLayerView.js\";let m=class extends(h(o(n))){update(t){this._strategy.update(t).catch((t=>{r(t)||e.getLogger(this.declaredClass).error(t)})),this.notifyChange(\"updating\")}attach(){this._bitmapContainer=new a,this.container.addChild(this._bitmapContainer),this._strategy=new p({container:this._bitmapContainer,fetchSource:this.fetchBitmapData.bind(this),requestUpdate:this.requestUpdate.bind(this)})}detach(){this._strategy.destroy(),this._strategy=null,this.container.removeChild(this._bitmapContainer),this._bitmapContainer.removeAllChildren()}moveStart(){}viewChange(){}moveEnd(){this.requestUpdate()}fetchBitmapData(t,e,r){return this.layer.fetchImage(t,e,r)}async doRefresh(){this.requestUpdate()}isUpdating(){return this._strategy.updating||this.updateRequested}};t([s()],m.prototype,\"_strategy\",void 0),t([s()],m.prototype,\"updating\",void 0),m=t([i(\"esri.views.2d.layers.BaseDynamicLayerView2D\")],m);const c=m;export{c as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nconst t=Math.PI/180;function n(n){return n*t}function o(t,o){const a=n(o.rotation),r=Math.abs(Math.cos(a)),s=Math.abs(Math.sin(a)),[u,c]=o.size;return t[0]=Math.round(c*s+u*r),t[1]=Math.round(c*r+u*s),t}function a(t,n,o,a){const[r,s]=n,[u,c]=a,h=.5*o;return t[0]=r-h*u,t[1]=s-h*c,t[2]=r+h*u,t[3]=s+h*c,t}export{a as getBBox,o as getOuterSize};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../core/Accessor.js\";import\"../../../../core/has.js\";import{debounce as i,throwIfAborted as o,throwIfAbortError as r,eachAlways as s}from\"../../../../core/promiseUtils.js\";import{property as a}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as n}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{create as p,toExtent as m}from\"../../../../geometry/support/aaBoundingRect.js\";import{getInfo as l}from\"../../../../geometry/support/spatialReferenceUtils.js\";import h from\"../../../../layers/support/TileInfo.js\";import{getOuterSize as d,getBBox as c}from\"../../viewStateUtils.js\";import{Bitmap as u}from\"../../engine/Bitmap.js\";import g from\"../../tiling/TileInfoView.js\";import f from\"../../tiling/TileKey.js\";const y=p(),x=[0,0],S=new f(0,0,0,0),_={container:null,fetchSource:null,requestUpdate:null,imageMaxWidth:2048,imageMaxHeight:2048,imageRotationSupported:!1,imageNormalizationSupported:!1,hidpi:!1};let w=class extends e{constructor(t){super(t),this._imagePromise=null,this.bitmaps=[],this.hidpi=_.hidpi,this.imageMaxWidth=_.imageMaxWidth,this.imageMaxHeight=_.imageMaxHeight,this.imageRotationSupported=_.imageRotationSupported,this.imageNormalizationSupported=_.imageNormalizationSupported,this.update=i((async(t,e)=>{if(o(e),!t.stationary||this.destroyed)return;const i=t.state,s=l(i.spatialReference),a=this.hidpi?t.pixelRatio:1,n=this.imageNormalizationSupported&&i.worldScreenWidth&&i.worldScreenWidth<i.size[0];n?(x[0]=i.worldScreenWidth,x[1]=i.size[1]):this.imageRotationSupported?(x[0]=i.size[0],x[1]=i.size[1]):d(x,i);const p=Math.floor(x[0]*a)>this.imageMaxWidth||Math.floor(x[1]*a)>this.imageMaxHeight,m=s&&(i.extent.xmin<s.valid[0]||i.extent.xmax>s.valid[1]),h=!this.imageNormalizationSupported&&m,c=!p&&!h,u=this.imageRotationSupported?i.rotation:0,g=this.container.children.slice();if(c){const t=n?i.paddedViewState.center:i.center;this._imagePromise&&console.error(\"Image promise was not defined!\"),this._imagePromise=this._singleExport(i,x,t,i.resolution,u,a,e)}else{let t=Math.min(this.imageMaxWidth,this.imageMaxHeight);h&&(t=Math.min(i.worldScreenWidth,t)),this._imagePromise=this._tiledExport(i,t,a,e)}try{const t=await this._imagePromise;o(e);const i=[];if(this._imagePromise=null,this.destroyed)return;this.bitmaps=t??[];for(const e of g)t.includes(e)||i.push(e.fadeOut().then((()=>{e.remove(),e.destroy()})));for(const e of t)i.push(e.fadeIn());await Promise.all(i)}catch(f){this._imagePromise=null,r(f)}}),5e3),this.updateExports=i((async t=>{const e=[];for(const i of this.container.children){if(!i.visible||!i.stage)return;e.push(t(i).then((()=>{i.invalidateTexture(),i.requestRender()})))}this._imagePromise=s(e).then((()=>this._imagePromise=null)),await this._imagePromise}))}destroy(){this.bitmaps.forEach((t=>t.destroy())),this.bitmaps=[]}get updating(){return!this.destroyed&&null!==this._imagePromise}async _export(t,e,i,r,s,a){const n=await this.fetchSource(t,Math.floor(e*s),Math.floor(i*s),{rotation:r,pixelRatio:s,signal:a});o(a);const p=new u(null,{immutable:!0,requestRenderOnSourceChangedEnabled:!0});return p.x=t.xmin,p.y=t.ymax,p.resolution=t.width/e,p.rotation=r,p.pixelRatio=s,p.opacity=0,this.container.addChild(p),await p.setSourceAsync(n,a),o(a),p}async _singleExport(t,e,i,o,r,s,a){c(y,i,o,e);const n=m(y,t.spatialReference);return[await this._export(n,e[0],e[1],r,s,a)]}_tiledExport(t,e,i,o){const r=h.create({size:e,spatialReference:t.spatialReference,scales:[t.scale]}),s=new g(r),a=s.getTileCoverage(t);if(!a)return null;const n=[];return a.forEach(((r,a,p,l)=>{S.set(r,a,p,0),s.getTileBounds(y,S);const h=m(y,t.spatialReference);n.push(this._export(h,e,e,0,i,o).then((t=>(0!==l&&(S.set(r,a,p,l),s.getTileBounds(y,S),t.x=y[0],t.y=y[3]),t))))})),Promise.all(n)}};t([a()],w.prototype,\"_imagePromise\",void 0),t([a()],w.prototype,\"bitmaps\",void 0),t([a()],w.prototype,\"container\",void 0),t([a()],w.prototype,\"fetchSource\",void 0),t([a()],w.prototype,\"hidpi\",void 0),t([a()],w.prototype,\"imageMaxWidth\",void 0),t([a()],w.prototype,\"imageMaxHeight\",void 0),t([a()],w.prototype,\"imageRotationSupported\",void 0),t([a()],w.prototype,\"imageNormalizationSupported\",void 0),t([a()],w.prototype,\"requestUpdate\",void 0),t([a()],w.prototype,\"updating\",null),w=t([n(\"esri.views.2d.layers.support.ExportStrategy\")],w);const v=w;export{v as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Logger.js\";import{isAbortError as s}from\"../../core/promiseUtils.js\";import{on as o}from\"../../core/reactiveUtils.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";const i=i=>{let c=class extends i{initialize(){this.handles.add(o((()=>this.layer),\"refresh\",(r=>{this.doRefresh(r.dataChanged).catch((r=>{s(r)||e.getLogger(this.declaredClass).error(r)}))})),\"RefreshableLayerView\")}};return r([t()],c.prototype,\"layer\",void 0),c=r([a(\"esri.layers.mixins.RefreshableLayerView\")],c),c};export{i as default};\n"],"names":["m","h","o","n","update","t","this","_strategy","catch","r","e","getLogger","declaredClass","error","notifyChange","attach","_bitmapContainer","a","container","addChild","p","fetchSource","fetchBitmapData","bind","requestUpdate","detach","destroy","removeChild","removeAllChildren","moveStart","viewChange","moveEnd","layer","fetchImage","doRefresh","isUpdating","updating","updateRequested","s","prototype","i","c","Math","PI","rotation","abs","cos","sin","u","size","round","y","x","S","f","_","w","constructor","super","_imagePromise","bitmaps","hidpi","imageMaxWidth","imageMaxHeight","imageRotationSupported","imageNormalizationSupported","async","stationary","destroyed","state","l","spatialReference","pixelRatio","worldScreenWidth","d","floor","extent","xmin","valid","xmax","g","children","slice","paddedViewState","center","console","_singleExport","resolution","min","_tiledExport","includes","push","fadeOut","then","remove","fadeIn","Promise","all","updateExports","visible","stage","invalidateTexture","requestRender","forEach","_export","signal","immutable","requestRenderOnSourceChangedEnabled","ymax","width","opacity","setSourceAsync","create","scales","scale","getTileCoverage","set","getTileBounds","v","initialize","handles","add","dataChanged"],"sourceRoot":""}