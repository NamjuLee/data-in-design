{"version":3,"file":"static/js/667.8104ef06.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/core/workers/WorkerHandle.js","../node_modules/@arcgis/core/layers/support/LercDecoder.js","../node_modules/@arcgis/core/layers/ElevationLayer.js","../node_modules/@arcgis/core/layers/mixins/ArcGISCachedService.js","../node_modules/@arcgis/core/layers/support/TilemapCache.js","../node_modules/@arcgis/core/layers/support/Tilemap.js","../node_modules/@arcgis/core/layers/support/serviceTileInfoProperty.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{remove as e}from\"../arrayUtils.js\";import{makeHandle as t}from\"../handleUtils.js\";import r from\"../Logger.js\";import{isSome as s}from\"../maybe.js\";import{throwIfAborted as i}from\"../promiseUtils.js\";import{open as o}from\"./workers.js\";class h{constructor(e,t,s,i,h={}){this._mainMethod=t,this._transferLists=s,this._listeners=[],this._promise=o(e,{...h,schedule:i}).then((e=>{if(void 0===this._thread){this._thread=e,this._promise=null,h.hasInitialize&&this.broadcast({},\"initialize\");for(const e of this._listeners)this._connectListener(e)}else e.close()})),this._promise.catch((t=>r.getLogger(\"esri.core.workers.WorkerHandle\").error(`Failed to initialize ${e} worker: ${t}`)))}on(r,i){const o={removed:!1,eventName:r,callback:i,threadHandle:null};return this._listeners.push(o),this._connectListener(o),t((()=>{o.removed=!0,e(this._listeners,o),this._thread&&s(o.threadHandle)&&o.threadHandle.remove()}))}destroy(){this._thread&&(this._thread.close(),this._thread=null),this._promise=null}invoke(e,t){return this.invokeMethod(this._mainMethod,e,t)}invokeMethod(e,t,r){if(this._thread){const s=this._transferLists[e],i=s?s(t):[];return this._thread.invoke(e,t,{transferList:i,signal:r})}return this._promise?this._promise.then((()=>(i(r),this.invokeMethod(e,t,r)))):Promise.reject(null)}broadcast(e,t){return this._thread?Promise.all(this._thread.broadcast(t,e)).then((()=>{})):this._promise?this._promise.then((()=>this.broadcast(e,t))):Promise.reject()}get promise(){return this._promise}_connectListener(e){this._thread&&this._thread.on(e.eventName,e.callback).then((t=>{e.removed||(e.threadHandle=t)}))}}export{h as WorkerHandle};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{unwrap as e,isSome as r}from\"../../core/maybe.js\";import{WorkerHandle as t}from\"../../core/workers/WorkerHandle.js\";class s extends t{constructor(e=null){super(\"LercWorker\",\"_decode\",{_decode:e=>[e.buffer]},e,{strategy:\"dedicated\"}),this.schedule=e,this.ref=0}decode(e,r,t){return e&&0!==e.byteLength?this.invoke({buffer:e,options:r},t):Promise.resolve(null)}release(){--this.ref<=0&&(o.forEach(((e,r)=>{e===this&&o.delete(r)})),this.destroy())}}const o=new Map;function n(t=null){let n=o.get(e(t));return n||(r(t)?(n=new s((e=>t.schedule(e))),o.set(t,n)):(n=new s,o.set(null,n))),++n.ref,n}export{n as acquireDecoder};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import r from\"../request.js\";import t from\"../core/Error.js\";import{releaseMaybe as o,isSome as i}from\"../core/maybe.js\";import{MultiOriginJSONMixin as s}from\"../core/MultiOriginJSONSupport.js\";import{throwIfAbortError as a,throwIfAborted as l}from\"../core/promiseUtils.js\";import{objectToQuery as p}from\"../core/urlUtils.js\";import{property as n}from\"../core/accessorSupport/decorators/property.js\";import\"../core/arrayUtils.js\";import\"../core/accessorSupport/ensureType.js\";import{reader as c}from\"../core/accessorSupport/decorators/reader.js\";import{subclass as d}from\"../core/accessorSupport/decorators/subclass.js\";import h from\"../geometry/HeightModelInfo.js\";import u from\"./Layer.js\";import{ArcGISCachedService as m}from\"./mixins/ArcGISCachedService.js\";import{ArcGISService as y}from\"./mixins/ArcGISService.js\";import{OperationalLayer as v}from\"./mixins/OperationalLayer.js\";import{PortalLayer as f}from\"./mixins/PortalLayer.js\";import{url as g}from\"./support/commonProperties.js\";import{acquireDecoder as S}from\"./support/LercDecoder.js\";let j=class extends(m(y(v(f(s(u)))))){constructor(...e){super(...e),this.copyright=null,this.heightModelInfo=null,this.path=null,this.minScale=void 0,this.maxScale=void 0,this.opacity=1,this.operationalLayerType=\"ArcGISTiledElevationServiceLayer\",this.sourceJSON=null,this.type=\"elevation\",this.url=null,this.version=null,this._lercDecoder=S()}normalizeCtorArgs(e,r){return\"string\"==typeof e?{url:e,...r}:e}destroy(){this._lercDecoder=o(this._lercDecoder)}readVersion(e,r){let t=r.currentVersion;return t||(t=9.3),t}load(e){const r=i(e)?e.signal:null;return this.addResolvingPromise(this.loadFromPortal({supportedTypes:[\"Image Service\"],supportsData:!1,validateItem:e=>{for(let r=0;r<e.typeKeywords.length;r++)if(\"elevation 3d layer\"===e.typeKeywords[r].toLowerCase())return!0;throw new t(\"portal:invalid-layer-item-type\",\"Invalid layer item type '${type}', expected '${expectedType}' \",{type:\"Image Service\",expectedType:\"Image Service Elevation 3D Layer\"})}},e).catch(a).then((()=>this._fetchImageService(r)))),Promise.resolve(this)}fetchTile(e,t,o,s){const a=i((s=s||{signal:null}).signal)?s.signal:s.signal=(new AbortController).signal,l={responseType:\"array-buffer\",signal:a},p={noDataValue:s.noDataValue,returnFileInfo:!0};return this.load().then((()=>this._fetchTileAvailability(e,t,o,s))).then((()=>r(this.getTileUrl(e,t,o),l))).then((e=>this._lercDecoder.decode(e.data,p,a))).then((e=>({values:e.pixelData,width:e.width,height:e.height,maxZError:e.fileInfo?.maxZError,noDataValue:e.noDataValue,minValue:e.minValue,maxValue:e.maxValue})))}getTileUrl(e,r,t){const o=!this.tilemapCache&&this.supportsBlankTile,i=p({...this.parsedUrl.query,blankTile:!o&&null});return`${this.parsedUrl.path}/tile/${e}/${r}/${t}${i?\"?\"+i:\"\"}`}async queryElevation(e,r){const{ElevationQuery:t}=await import(\"./support/ElevationQuery.js\");l(r);return(new t).query(this,e,r)}async createElevationSampler(e,r){const{ElevationQuery:t}=await import(\"./support/ElevationQuery.js\");l(r);return(new t).createSampler(this,e,r)}_fetchTileAvailability(e,r,t,o){return this.tilemapCache?this.tilemapCache.fetchAvailability(e,r,t,o):Promise.resolve(\"unknown\")}async _fetchImageService(e){if(this.sourceJSON)return this.sourceJSON;const t={query:{f:\"json\",...this.parsedUrl.query},responseType:\"json\",signal:e},o=await r(this.parsedUrl.path,t);o.ssl&&(this.url=this.url?.replace(/^http:/i,\"https:\")),this.sourceJSON=o.data,this.read(o.data,{origin:\"service\",url:this.parsedUrl})}get hasOverriddenFetchTile(){return!this.fetchTile.__isDefault__}};e([n({json:{read:{source:\"copyrightText\"}}})],j.prototype,\"copyright\",void 0),e([n({readOnly:!0,type:h})],j.prototype,\"heightModelInfo\",void 0),e([n({type:String,json:{origins:{\"web-scene\":{read:!0,write:!0}},read:!1}})],j.prototype,\"path\",void 0),e([n({type:[\"show\",\"hide\"]})],j.prototype,\"listMode\",void 0),e([n({json:{read:!1,write:!1,origins:{service:{read:!1,write:!1},\"portal-item\":{read:!1,write:!1},\"web-document\":{read:!1,write:!1}}},readOnly:!0})],j.prototype,\"minScale\",void 0),e([n({json:{read:!1,write:!1,origins:{service:{read:!1,write:!1},\"portal-item\":{read:!1,write:!1},\"web-document\":{read:!1,write:!1}}},readOnly:!0})],j.prototype,\"maxScale\",void 0),e([n({json:{read:!1,write:!1,origins:{\"web-document\":{read:!1,write:!1}}}})],j.prototype,\"opacity\",void 0),e([n({type:[\"ArcGISTiledElevationServiceLayer\"]})],j.prototype,\"operationalLayerType\",void 0),e([n()],j.prototype,\"sourceJSON\",void 0),e([n({json:{read:!1},value:\"elevation\",readOnly:!0})],j.prototype,\"type\",void 0),e([n(g)],j.prototype,\"url\",void 0),e([n()],j.prototype,\"version\",void 0),e([c(\"version\",[\"currentVersion\"])],j.prototype,\"readVersion\",null),j=e([d(\"esri.layers.ElevationLayer\")],j),j.prototype.fetchTile.__isDefault__=!0;const w=j;export{w as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../geometry.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/accessorSupport/ensureType.js\";import{reader as o}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";import{serviceTileInfoProperty as i}from\"../support/serviceTileInfoProperty.js\";import{TilemapCache as p}from\"../support/TilemapCache.js\";import a from\"../../geometry/SpatialReference.js\";const s=s=>{let l=class extends s{constructor(){super(...arguments),this.copyright=null,this.minScale=0,this.maxScale=0,this.spatialReference=null,this.tileInfo=null,this.tilemapCache=null}readMinScale(e,r){return null!=r.minLOD&&null!=r.maxLOD?e:0}readMaxScale(e,r){return null!=r.minLOD&&null!=r.maxLOD?e:0}get supportsBlankTile(){return this.version>=10.2}readTilemapCache(e,r){return r.capabilities&&r.capabilities.includes(\"Tilemap\")?new p({layer:this}):null}};return e([r({json:{read:{source:\"copyrightText\"}}})],l.prototype,\"copyright\",void 0),e([r()],l.prototype,\"minScale\",void 0),e([o(\"service\",\"minScale\")],l.prototype,\"readMinScale\",null),e([r()],l.prototype,\"maxScale\",void 0),e([o(\"service\",\"maxScale\")],l.prototype,\"readMaxScale\",null),e([r({type:a})],l.prototype,\"spatialReference\",void 0),e([r({readOnly:!0})],l.prototype,\"supportsBlankTile\",null),e([r(i)],l.prototype,\"tileInfo\",void 0),e([r()],l.prototype,\"tilemapCache\",void 0),e([o(\"service\",\"tilemapCache\",[\"capabilities\"])],l.prototype,\"readTilemapCache\",null),e([r()],l.prototype,\"version\",void 0),l=e([t(\"esri.layers.mixins.ArcGISCachedService\")],l),l};export{s as ArcGISCachedService};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../request.js\";import i from\"../../core/Accessor.js\";import{ByteSizeUnit as r}from\"../../core/byteSizeEstimations.js\";import s from\"../../core/Error.js\";import{HandleOwnerMixin as l}from\"../../core/HandleOwner.js\";import a from\"../../core/Logger.js\";import o from\"../../core/LRUCache.js\";import n from\"../../core/PooledArray.js\";import{onAbort as c,isAbortError as h,isAborted as p,createAbortError as m}from\"../../core/promiseUtils.js\";import{watch as f,syncAndInitial as u}from\"../../core/reactiveUtils.js\";import{waitTicks as v}from\"../../core/scheduling.js\";import{objectToQuery as y}from\"../../core/urlUtils.js\";import{property as b}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import{cast as d}from\"../../core/accessorSupport/decorators/cast.js\";import{subclass as _}from\"../../core/accessorSupport/decorators/subclass.js\";import{TileKey as g}from\"./TileKey.js\";import{tilemapDefinitionId as w,Tilemap as T}from\"./Tilemap.js\";var j;let z=j=class extends(l(i)){constructor(e){super(e),this._pendingTilemapRequests={},this._availableLevels={},this.levels=5,this.cacheByteSize=2*r.MEGABYTES,this.request=t,this._prefetchingEnabled=!0}initialize(){this._tilemapCache=new o(this.cacheByteSize),this.addHandles([f((()=>{const{layer:e}=this;return[e?.parsedUrl,e?.tileServers,e?.apiKey,e?.customParameters]}),(()=>this._initializeTilemapDefinition())),f((()=>this.layer?.tileInfo?.lods),(e=>this._initializeAvailableLevels(e)),u)]),this._initializeTilemapDefinition()}castLevels(e){return e<=2?(a.getLogger(this.declaredClass).error(\"Minimum levels for Tilemap is 3, but got \",e),3):e}get size(){return 1<<this.levels}fetchTilemap(e,t,i,r){if(!this._availableLevels[e])return Promise.reject(new s(\"tilemap-cache:level-unavailable\",`Level ${e} is unavailable in the service`));const l=this._tmpTilemapDefinition,a=this._tilemapFromCache(e,t,i,l);if(a)return Promise.resolve(a);const o=r&&r.signal;return r={...r,signal:null},new Promise(((e,t)=>{c(o,(()=>t(m())));const i=w(l);let s=this._pendingTilemapRequests[i];if(!s){s=T.fromDefinition(l,r).then((e=>(this._tilemapCache.put(i,e,e.byteSize),e)));const e=()=>delete this._pendingTilemapRequests[i];this._pendingTilemapRequests[i]=s,s.then(e,e)}s.then(e,t)}))}getAvailability(e,t,i){if(!this._availableLevels[e])return\"unavailable\";const r=this._tilemapFromCache(e,t,i,this._tmpTilemapDefinition);return r?r.getAvailability(t,i):\"unknown\"}fetchAvailability(e,t,i,r){return this._availableLevels[e]?this.fetchTilemap(e,t,i,r).catch((e=>e)).then((r=>{if(r instanceof T){const l=r.getAvailability(t,i);if(\"unavailable\"===l)throw new s(\"tile-map:tile-unavailable\",\"Tile is not available\",{level:e,row:t,col:i});return l}if(h(r))throw r;return\"unknown\"})):Promise.reject(new s(\"tilemap-cache:level-unavailable\",`Level ${e} is unavailable in the service`))}fetchAvailabilityUpsample(e,t,i,r,s){r.level=e,r.row=t,r.col=i;const l=this.layer.tileInfo;l.updateTileInfo(r);const a=this.fetchAvailability(e,t,i,s).catch((e=>{if(h(e))throw e;if(l.upsampleTile(r))return this.fetchAvailabilityUpsample(r.level,r.row,r.col,r);throw e}));return this._fetchAvailabilityUpsamplePrefetch(r.id,e,t,i,s,a),a}async _fetchAvailabilityUpsamplePrefetch(e,t,i,r,s,l){if(!this._prefetchingEnabled)return;const a=`prefetch-${e}`;if(this.handles.has(a))return;const o=new AbortController;l.then((()=>o.abort()),(()=>o.abort()));let n=!1;const c={remove(){n||(n=!0,o.abort())}};if(this.handles.add(c,a),await v(10,o.signal).catch((()=>{})),n||(n=!0,this.handles.remove(a)),p(o))return;const h=new g(e,t,i,r),m={...s,signal:o.signal},f=this.layer.tileInfo;for(let p=0;j._prefetches.length<j._maxPrefetch&&f.upsampleTile(h);++p){const e=this.fetchAvailability(h.level,h.row,h.col,m);j._prefetches.push(e);const t=()=>{j._prefetches.removeUnordered(e)};e.then(t,t)}}_initializeTilemapDefinition(){if(!this.layer.parsedUrl)return;const{parsedUrl:e,apiKey:t,customParameters:i}=this.layer;this._tilemapCache.clear(),this._tmpTilemapDefinition={service:{url:e.path,query:y({...e.query,...i,token:t??e.query?.token}),tileServers:this.layer.tileServers,request:this.request,type:this.layer.type},width:this.size,height:this.size,level:0,row:0,col:0}}_tilemapFromCache(e,t,i,r){r.level=e,r.row=t-t%this.size,r.col=i-i%this.size;const s=w(r);return this._tilemapCache.get(s)}_initializeAvailableLevels(e){this._availableLevels={},e&&e.forEach((e=>this._availableLevels[e.level]=!0))}get test(){const e=this;return{get prefetchingEnabled(){return e._prefetchingEnabled},set prefetchingEnabled(t){e._prefetchingEnabled=t},hasTilemap:(t,i,r)=>!!e._tilemapFromCache(t,i,r,e._tmpTilemapDefinition)}}};z._maxPrefetch=4,z._prefetches=new n({initialSize:j._maxPrefetch}),e([b({constructOnly:!0,type:Number})],z.prototype,\"levels\",void 0),e([d(\"levels\")],z.prototype,\"castLevels\",null),e([b({readOnly:!0,type:Number})],z.prototype,\"size\",null),e([b({constructOnly:!0,type:Number})],z.prototype,\"cacheByteSize\",void 0),e([b({constructOnly:!0})],z.prototype,\"layer\",void 0),e([b({constructOnly:!0})],z.prototype,\"request\",void 0),z=j=e([_(\"esri.layers.support.TilemapCache\")],z);export{z as TilemapCache};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport t from\"../../request.js\";import{constant as i}from\"../../core/arrayUtils.js\";import e from\"../../core/Error.js\";import{clone as a}from\"../../core/lang.js\";class l{constructor(){this.location={left:0,top:0,width:0,height:0},this._allAvailability=\"unknown\",this.byteSize=40}getAvailability(t,i){if(\"unknown\"!==this._allAvailability)return this._allAvailability;const e=(t-this.location.top)*this.location.width+(i-this.location.left),a=e%8,l=e>>3,o=this._tileAvailabilityBitSet;return l<0||l>o.length?\"unknown\":o[l]&1<<a?\"available\":\"unavailable\"}_updateFromData(t){const i=this.location.width,e=this.location.height;let a=!0,l=!0;const o=Math.ceil(i*e/8),n=new Uint8Array(o);let r=0;for(let s=0;s<t.length;s++){const i=s%8;t[s]?(l=!1,n[r]|=1<<i):a=!1,7===i&&++r}l?this._allAvailability=\"unavailable\":a?this._allAvailability=\"available\":(this._allAvailability=\"unknown\",this._tileAvailabilityBitSet=n,this.byteSize+=n.length)}static fromDefinition(a,o){const r=a.service.request||t,{row:s,col:h,width:c,height:m}=a,d={query:{f:\"json\"}};return o=o?{...d,...o}:d,r(n(a),o).then((t=>t.data)).catch((t=>{if(t&&t.details&&422===t.details.httpStatus)return{location:{top:s,left:h,width:c,height:m},valid:!0,data:i(c*m,0)};throw t})).then((t=>{if(t.location&&(t.location.top!==s||t.location.left!==h||t.location.width!==c||t.location.height!==m))throw new e(\"tilemap:location-mismatch\",\"Tilemap response for different location than requested\",{response:t,definition:{top:s,left:h,width:c,height:m}});return l.fromJSON(t)}))}static fromJSON(t){l._validateJSON(t);const i=new l;return i.location=Object.freeze(a(t.location)),i._updateFromData(t.data),Object.freeze(i)}static _validateJSON(t){if(!t||!t.location)throw new e(\"tilemap:missing-location\",\"Location missing from tilemap response\");if(!1===t.valid)throw new e(\"tilemap:invalid\",\"Tilemap response was marked as invalid\");if(!t.data)throw new e(\"tilemap:missing-data\",\"Data missing from tilemap response\");if(!Array.isArray(t.data))throw new e(\"tilemap:data-mismatch\",\"Data must be an array of numbers\");if(t.data.length!==t.location.width*t.location.height)throw new e(\"tilemap:data-mismatch\",\"Number of data items does not match width/height of tilemap\")}}function o(t){return`${t.level}/${t.row}/${t.col}/${t.width}/${t.height}`}function n(t){let i;if(\"vector-tile\"===t.service.type)i=`${t.service.url}/tilemap/${t.level}/${t.row}/${t.col}/${t.width}/${t.height}`;else{const e=t.service.tileServers;i=`${e&&e.length?e[t.row%e.length]:t.service.url}/tilemap/${t.level}/${t.row}/${t.col}/${t.width}/${t.height}`}const e=t.service.query;return e&&(i=`${i}?${e}`),i}export{l as Tilemap,o as tilemapDefinitionId};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport e from\"./TileInfo.js\";const r={type:e,json:{origins:{service:{read:{source:[\"tileInfo\",\"minScale\",\"maxScale\",\"minLOD\",\"maxLOD\"],reader:n}}}}};function n(r,n,l,o){if(!r)return null;const{minScale:i,maxScale:t,minLOD:m,maxLOD:s}=n;if(null!=m&&null!=s)return o&&o.ignoreMinMaxLOD?e.fromJSON(r):e.fromJSON({...r,lods:r.lods.filter((({level:e})=>null!=e&&e>=m&&e<=s))});if(0!==i&&0!==t){const n=e=>Math.round(1e4*e)/1e4,l=i?n(i):1/0,o=t?n(t):-1/0;return e.fromJSON({...r,lods:r.lods.filter((e=>{const r=n(e.scale);return r<=l&&r>=o}))})}return e.fromJSON(r)}export{n as readServiceTileInfo,r as serviceTileInfoProperty};\n"],"names":["h","constructor","e","t","s","i","arguments","length","undefined","this","_mainMethod","_transferLists","_listeners","_promise","o","_objectSpread","schedule","then","_thread","hasInitialize","broadcast","_connectListener","close","catch","r","getLogger","error","concat","on","removed","eventName","callback","threadHandle","push","remove","destroy","invoke","invokeMethod","transferList","signal","Promise","reject","all","promise","super","_decode","buffer","strategy","ref","decode","byteLength","options","resolve","release","forEach","delete","Map","j","m","y","v","f","u","copyright","heightModelInfo","path","minScale","maxScale","opacity","operationalLayerType","sourceJSON","type","url","version","_lercDecoder","n","get","set","S","normalizeCtorArgs","readVersion","currentVersion","load","addResolvingPromise","loadFromPortal","supportedTypes","supportsData","validateItem","typeKeywords","toLowerCase","expectedType","a","_fetchImageService","fetchTile","AbortController","l","responseType","p","noDataValue","returnFileInfo","_fetchTileAvailability","getTileUrl","data","_e$fileInfo","values","pixelData","width","height","maxZError","fileInfo","minValue","maxValue","tilemapCache","supportsBlankTile","parsedUrl","query","blankTile","queryElevation","ElevationQuery","createElevationSampler","createSampler","fetchAvailability","_this$url","ssl","replace","read","origin","hasOverriddenFetchTile","__isDefault__","json","source","prototype","readOnly","String","origins","write","service","value","g","c","d","w","spatialReference","tileInfo","readMinScale","minLOD","maxLOD","readMaxScale","readTilemapCache","capabilities","includes","layer","location","left","top","_allAvailability","byteSize","getAvailability","_tileAvailabilityBitSet","_updateFromData","Math","ceil","Uint8Array","fromDefinition","request","row","col","level","tileServers","details","httpStatus","valid","response","definition","fromJSON","_validateJSON","Object","freeze","Array","isArray","z","_pendingTilemapRequests","_availableLevels","levels","cacheByteSize","MEGABYTES","_prefetchingEnabled","initialize","_tilemapCache","addHandles","apiKey","customParameters","_initializeTilemapDefinition","_this$layer","lods","_initializeAvailableLevels","castLevels","declaredClass","size","fetchTilemap","_tmpTilemapDefinition","_tilemapFromCache","T","put","fetchAvailabilityUpsample","updateTileInfo","upsampleTile","_fetchAvailabilityUpsamplePrefetch","id","handles","has","abort","add","_prefetches","_maxPrefetch","removeUnordered","_e$query","clear","token","test","prefetchingEnabled","hasTilemap","initialSize","b","constructOnly","Number","_","reader","ignoreMinMaxLOD","filter","_ref","round","scale"],"sourceRoot":""}